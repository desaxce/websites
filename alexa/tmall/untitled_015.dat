/*
Copyright 2013, KISSY v1.40
MIT Licensed
build time: Nov 21 23:47
*/
var KISSY=function(a){function e(a){var f={};g.each(k,function(e,b){f[b]=function(c){return g.log(c,b,a)}});return f}var g,l=0,k={debug:10,info:20,warn:30,error:40};g={__BUILD_TIME:"20131121234724",Env:{host:this},Config:{debug:"",fns:{}},version:"1.40",config:function(d,e){var n,b,c=this,p,h=g.Config,q=h.fns;g.isObject(d)?g.each(d,function(a,b){(p=q[b])?p.call(c,a):h[b]=a}):(n=q[d],e===a?b=n?n.call(c):h[d]:n?b=n.call(c,e):h[d]=e);return b},log:function(){return a},getLogger:function(a){return e(a)},
error:function(){},guid:function(a){return(a||"")+l++},Logger:{}};g.Logger.Level={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};return g}();
(function(a,e){function g(){}function l(c,j,b,m,i,h){if(!j||!c)return c;var p,t,f,g;j[d]=c;h.push(j);f=a.keys(j);g=f.length;for(p=0;p<g;p++)if(t=f[p],t!=d){var k=c,x=j,E=b,F=m,H=i,L=h;if(E||!(t in k)||H){var w=k[t],u=x[t];if(w===u)w===e&&(k[t]=w);else if(F&&(u=F.call(x,t,u)),H&&u&&(a.isArray(u)||a.isPlainObject(u)))u[d]?k[t]=u[d]:(x=w&&(a.isArray(w)||a.isPlainObject(w))?w:a.isArray(u)?[]:{},k[t]=x,l(x,u,E,F,n,L));else if(u!==e&&(E||!(t in k)))k[t]=u}}return c}function k(a,c){return"constructor"==
a?e:c}var d="__MIX_CIRCULAR",f=this,n=!0,b=Object,c=b.create,p=!{toString:1}.propertyIsEnumerable("toString"),h="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,c){for(var b in c)a[b]=c[b]})(a,{stamp:function(c,b,o){var o=o||"__~ks_stamped",m=c[o];if(!m&&!b)try{m=c[o]=a.guid(o)}catch(i){m=e}return m},keys:b.keys||function(a){var c=[],b,m;for(b in a)a.hasOwnProperty(b)&&c.push(b);if(p)for(m=h.length-1;0<=m;m--)b=h[m],a.hasOwnProperty(b)&&
c.push(b);return c},mix:function(c,b,o,m,i){"object"===typeof o&&(m=o.whitelist,i=o.deep,o=o.overwrite);if(m&&"function"!==typeof m)var h=m,m=function(c,b){return a.inArray(c,h)?b:e};o===e&&(o=n);var p=[],t=0;for(l(c,b,o,m,i,p);b=p[t++];)delete b[d];return c},merge:function(c){var c=a.makeArray(arguments),b={},o,m=c.length;for(o=0;o<m;o++)a.mix(b,c[o]);return b},augment:function(c,b){var o=a.makeArray(arguments),m=o.length-2,i=1,h,d,p=o[m],f=o[m+1];a.isArray(f)||(p=f,f=e,m++);"boolean"!==typeof p&&
(p=e,m++);for(;i<m;i++){d=o[i];if(h=d.prototype)d=a.mix({},h,!0,k);a.mix(c.prototype,d,p,f)}return c},extend:function(b,j,o,m){if(!j||!b)return b;var i=j.prototype;i.constructor=j;c?j=c(i):(g.prototype=i,j=new g);j.constructor=b;b.prototype=a.mix(j,b.prototype);b.superclass=i;o&&a.mix(j,o);m&&a.mix(b,m);return b},namespace:function(){var c=a.makeArray(arguments),b=c.length,o=null,m,i,h,d=c[b-1]===n&&b--;for(m=0;m<b;m++){h=(""+c[m]).split(".");o=d?f:this;for(i=f[h[0]]===o?1:0;i<h.length;++i)o=o[h[i]]=
o[h[i]]||{}}return o}})})(KISSY);
(function(a,e){var g=Array.prototype,l=g.indexOf,k=g.lastIndexOf,d=g.filter,f=g.every,n=g.some,b=g.map;a.mix(a,{each:function(c,b,h){if(c){var d,j,o=0;d=c&&c.length;j=d===e||"function"==a.type(c);h=h||null;if(j)for(j=a.keys(c);o<j.length&&!(d=j[o],!1===b.call(h,c[d],d,c));o++);else for(j=c[0];o<d&&!1!==b.call(h,j,o,c);j=c[++o]);}return c},indexOf:l?function(a,b){return l.call(b,a)}:function(a,b){for(var h=0,d=b.length;h<d;++h)if(b[h]===a)return h;return-1},lastIndexOf:k?function(a,b){return k.call(b,
a)}:function(a,b){for(var d=b.length-1;0<=d&&b[d]!==a;d--);return d},unique:function(b,d){var h=b.slice();d&&h.reverse();for(var q=0,j,o;q<h.length;){for(o=h[q];(j=a.lastIndexOf(o,h))!==q;)h.splice(j,1);q+=1}d&&h.reverse();return h},inArray:function(b,d){return-1<a.indexOf(b,d)},filter:d?function(a,b,h){return d.call(a,b,h||this)}:function(b,d,h){var q=[];a.each(b,function(a,b,c){d.call(h||this,a,b,c)&&q.push(a)});return q},map:b?function(a,d,h){return b.call(a,d,h||this)}:function(a,b,d){for(var q=
a.length,j=Array(q),o=0;o<q;o++){var m="string"==typeof a?a.charAt(o):a[o];if(m||o in a)j[o]=b.call(d||this,m,o,a)}return j},reduce:function(a,b,d){var q=a.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===q&&2==arguments.length)throw new TypeError("arguments invalid");var j=0,o;if(3<=arguments.length)o=arguments[2];else{do{if(j in a){o=a[j++];break}j+=1;if(j>=q)throw new TypeError;}while(1)}for(;j<q;)j in a&&(o=b.call(e,o,a[j],j,a)),j++;return o},every:f?function(a,
b,d){return f.call(a,b,d||this)}:function(a,b,d){for(var q=a&&a.length||0,j=0;j<q;j++)if(j in a&&!b.call(d,a[j],j,a))return!1;return!0},some:n?function(a,b,d){return n.call(a,b,d||this)}:function(a,b,d){for(var q=a&&a.length||0,j=0;j<q;j++)if(j in a&&b.call(d,a[j],j,a))return!0;return!1},makeArray:function(b){if(null==b)return[];if(a.isArray(b))return b;var d=typeof b.length,h=typeof b;if("number"!=d||b.alert||"string"==h||"function"==h&&!("item"in b&&"number"==d))return[b];for(var d=[],h=0,q=b.length;h<
q;h++)d[h]=b[h];return d}})})(KISSY);
(function(a,e){function g(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function l(){if(b)return b;var c=d;a.each(f,function(a){c+=a+"|"});c=c.slice(0,-1);return b=RegExp(c,"g")}function k(){if(c)return c;var b=d;a.each(n,function(a){b+=a+"|"});b+="&#(\\d{1,5});";return c=RegExp(b,"g")}var d="",f={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},n={},b,c,p=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in f)n[f[a]]=a})();a.mix(a,{urlEncode:function(a){return encodeURIComponent(""+
a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,function(a,b){return String.fromCharCode(parseInt(b,16))})},escapeHtml:function(a){return(a+"").replace(l(),function(a){return n[a]})},escapeRegExp:function(a){return a.replace(p,"\\$&")},unEscapeHtml:function(a){return a.replace(k(),function(a,b){return f[a]||String.fromCharCode(+b)})},param:function(b,c,j,o){c=c||"&";j=j||"=";o===e&&(o=!0);var m=[],i,r,f,p,k,n=
a.urlEncode;for(i in b)if(k=b[i],i=n(i),g(k))m.push(i),k!==e&&m.push(j,n(k+d)),m.push(c);else if(a.isArray(k)&&k.length){r=0;for(p=k.length;r<p;++r)f=k[r],g(f)&&(m.push(i,o?n("[]"):d),f!==e&&m.push(j,n(f+d)),m.push(c))}m.pop();return m.join(d)},unparam:function(b,c,j){if("string"!=typeof b||!(b=a.trim(b)))return{};for(var j=j||"=",d={},m,i=a.urlDecode,b=b.split(c||"&"),r=0,f=b.length;r<f;++r){m=b[r].indexOf(j);if(-1==m)c=i(b[r]),m=e;else{c=i(b[r].substring(0,m));m=b[r].substring(m+1);try{m=i(m)}catch(p){"decodeURIComponent error : "+
m,p}a.endsWith(c,"[]")&&(c=c.substring(0,c.length-2))}c in d?a.isArray(d[c])?d[c].push(m):d[c]=[d[c],m]:d[c]=m}return d}});a.escapeHTML=a.escapeHtml;a.unEscapeHTML=a.unEscapeHtml})(KISSY);
(function(a){function e(a,e,k){var d=[].slice,f=d.call(arguments,3),n=function(){},b=function(){var b=d.call(arguments);return e.apply(this instanceof n?this:k,a?b.concat(f):f.concat(b))};n.prototype=e.prototype;b.prototype=new n;return b}a.mix(a,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(e,l,k,d,f){var l=l||0,n=e,b=a.makeArray(f),c;"string"==typeof e&&(n=d[e]);n||"method undefined";e=function(){n.apply(d,b)};c=k?setInterval(e,l):setTimeout(e,l);return{id:c,interval:k,
cancel:function(){this.interval?clearInterval(c):clearTimeout(c)}}},throttle:function(e,l,k){l=l||150;if(-1===l)return function(){e.apply(k||this,arguments)};var d=a.now();return function(){var f=a.now();f-d>l&&(d=f,e.apply(k||this,arguments))}},buffer:function(e,l,k){function d(){d.stop();f=a.later(e,l,0,k||this,arguments)}l=l||150;if(-1===l)return function(){e.apply(k||this,arguments)};var f=null;d.stop=function(){f&&(f.cancel(),f=0)};return d}})})(KISSY);
(function(a,e){function g(b,c,e){var h=b,q,j,o,m;if(!b)return h;if(b[f])return e[b[f]].destination;if("object"===typeof b){m=b.constructor;if(a.inArray(m,[Boolean,String,Number,Date,RegExp]))h=new m(b.valueOf());else if(q=a.isArray(b))h=c?a.filter(b,c):b.concat();else if(j=a.isPlainObject(b))h={};b[f]=m=a.guid("c");e[m]={destination:h,input:b}}if(q)for(b=0;b<h.length;b++)h[b]=g(h[b],c,e);else if(j)for(o in b)if(o!==f&&(!c||c.call(b,b[o],o,b)!==d))h[o]=g(b[o],c,e);return h}function l(b,c,d,h){if(b[n]===
c&&c[n]===b)return k;b[n]=c;c[n]=b;var f=function(a,b){return null!==a&&a!==e&&a[b]!==e},j;for(j in c)!f(b,j)&&f(c,j)&&d.push("expected has key '"+j+"', but missing from actual.");for(j in b)!f(c,j)&&f(b,j)&&d.push("expected missing key '"+j+"', but present in actual.");for(j in c)j!=n&&(a.equals(b[j],c[j],d,h)||h.push("'"+j+"' was '"+(c[j]?c[j].toString():c[j])+"' in expected, but was '"+(b[j]?b[j].toString():b[j])+"' in actual."));a.isArray(b)&&a.isArray(c)&&b.length!=c.length&&h.push("arrays were not the same length");
delete b[n];delete c[n];return 0===d.length&&0===h.length}var k=!0,d=!1,f="__~ks_cloned",n="__~ks_compared";a.mix(a,{equals:function(a,c,d,h){d=d||[];h=h||[];return a===c?k:a===e||null===a||c===e||null===c?null==a&&null==c:a instanceof Date&&c instanceof Date?a.getTime()==c.getTime():"string"==typeof a&&"string"==typeof c||"number"===typeof a&&"number"===typeof c?a==c:"object"===typeof a&&"object"===typeof c?l(a,c,d,h):a===c},clone:function(b,c){var d={},h=g(b,c,d);a.each(d,function(a){a=a.input;
if(a[f])try{delete a[f]}catch(b){a[f]=e}});d=null;return h},now:Date.now||function(){return+new Date}})})(KISSY);
(function(a,e){var g=/^[\s\xa0]+|[\s\xa0]+$/g,l=String.prototype.trim,k=/\\?\{([^{}]+)\}/g;a.mix(a,{trim:l?function(a){return null==a?"":l.call(a)}:function(a){return null==a?"":(a+"").replace(g,"")},substitute:function(a,f,n){return"string"!=typeof a||!f?a:a.replace(n||k,function(a,c){return"\\"===a.charAt(0)?a.slice(1):f[c]===e?"":f[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)},startsWith:function(a,e){return 0===a.lastIndexOf(e,0)},endsWith:function(a,e){var k=
a.length-e.length;return 0<=k&&a.indexOf(e,k)==k}})})(KISSY);
(function(a,e){var g={},l=Object.prototype,k=l.toString;a.mix(a,{type:function(a){return null==a?""+a:g[k.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===e},isEmptyObject:function(a){for(var f in a)if(f!==e)return!1;return!0},isPlainObject:function(d){if(!d||"object"!==a.type(d)||d.nodeType||d.window==d)return!1;var f,k;try{if((k=d.constructor)&&!l.hasOwnProperty.call(d,"constructor")&&!l.hasOwnProperty.call(k.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(f in d);
return f===e||l.hasOwnProperty.call(d,f)}});a.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),function(d,e){g["[object "+d+"]"]=e=d.toLowerCase();a["is"+d]=function(d){return a.type(d)==e}});a.isArray=Array.isArray||a.isArray})(KISSY);
(function(a){function e(){for(var a=0,b;b=g[a++];)try{b()}catch(c){setTimeout(function(){throw c;},0)}1<a&&(g=[]);l=0}var g=[],l=0;a.setImmediate=function(a){g.push(a);l||(l=1,k())};var k;if("function"===typeof setImmediate)k=function(){setImmediate(e)};else if("undefined"!==typeof process&&"function"==typeof process.nextTick)k=function(){process.nextTick(e)};else if("undefined"!==typeof MessageChannel){var d=new MessageChannel;d.port1.onmessage=function(){k=f;d.port1.onmessage=e;e()};var f=function(){d.port2.postMessage(0)};
k=function(){setTimeout(e,0);f()}}else k=function(){setTimeout(e,0)}})(KISSY);
(function(a){function e(a,d){for(var e=0,g=a.length-1,b=[],c;0<=g;g--)c=a[g],"."!=c&&(".."===c?e++:e?e--:b[b.length]=c);if(d)for(;e--;e)b[b.length]="..";return b=b.reverse()}var g=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,l=a.Path={resolve:function(){var k="",d,f=arguments,g,b=0;for(d=f.length-1;0<=d&&!b;d--)g=f[d],"string"==typeof g&&g&&(k=g+"/"+k,b="/"==g.charAt(0));k=e(a.filter(k.split("/"),function(a){return!!a}),!b).join("/");return(b?"/":"")+k||"."},normalize:function(k){var d=
"/"==k.charAt(0),f="/"==k.slice(-1),k=e(a.filter(k.split("/"),function(a){return!!a}),!d).join("/");!k&&!d&&(k=".");k&&f&&(k+="/");return(d?"/":"")+k},join:function(){var e=a.makeArray(arguments);return l.normalize(a.filter(e,function(a){return a&&"string"==typeof a}).join("/"))},relative:function(e,d){var e=l.normalize(e),d=l.normalize(d),f=a.filter(e.split("/"),function(a){return!!a}),g=[],b,c,p=a.filter(d.split("/"),function(a){return!!a});c=Math.min(f.length,p.length);for(b=0;b<c&&f[b]==p[b];b++);
for(c=b;b<f.length;)g.push(".."),b++;g=g.concat(p.slice(c));return g=g.join("/")},basename:function(a,d){var e;e=(a.match(g)||[])[3]||"";d&&e&&e.slice(-1*d.length)==d&&(e=e.slice(0,-1*d.length));return e},dirname:function(a){var d=a.match(g)||[],a=d[1]||"",d=d[2]||"";if(!a&&!d)return".";d&&(d=d.substring(0,d.length-1));return a+d},extname:function(a){return(a.match(g)||[])[4]||""}}})(KISSY);
(function(a,e){function g(b){b._queryMap||(b._queryMap=a.unparam(b._query))}function l(a){this._query=a||""}function k(a,b){return encodeURI(a).replace(b,function(a){a=a.charCodeAt(0).toString(16);return"%"+(1==a.length?"0"+a:a)})}function d(b){if(b instanceof d)return b.clone();var c=this;a.mix(c,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});b=d.getComponents(b);a.each(b,function(b,d){b=b||"";if("query"==d)c.query=new l(b);else{try{b=a.urlDecode(b)}catch(j){j+"urlDecode error : "+
b}c[d]=b}});return c}var f=/[#\/\?@]/g,n=/[#\?]/g,b=/[#@]/g,c=/#/g,p=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),h=a.Path,q={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};l.prototype={constructor:l,clone:function(){return new l(this.toString())},reset:function(a){this._query=a||"";this._queryMap=null;return this},count:function(){var b=0,c,d;g(this);c=this._queryMap;for(d in c)a.isArray(c[d])?
b+=c[d].length:b++;return b},has:function(b){var c;g(this);c=this._queryMap;return b?b in c:!a.isEmptyObject(c)},get:function(a){var b;g(this);b=this._queryMap;return a?b[a]:b},keys:function(){g(this);return a.keys(this._queryMap)},set:function(b,c){var d;g(this);d=this._queryMap;"string"==typeof b?this._queryMap[b]=c:(b instanceof l&&(b=b.get()),a.each(b,function(a,b){d[b]=a}));return this},remove:function(a){g(this);a?delete this._queryMap[a]:this._queryMap={};return this},add:function(a,b){var c,
d;if("string"==typeof a)g(this),c=this._queryMap,d=c[a],d=d===e?b:[].concat(d).concat(b),c[a]=d;else for(c in a instanceof l&&(a=a.get()),a)this.add(c,a[c]);return this},toString:function(b){g(this);return a.param(this._queryMap,e,e,b)}};d.prototype={constructor:d,clone:function(){var b=new d,c=this;a.each(q,function(a,d){b[d]=c[d]});b.query=b.query.clone();return b},resolve:function(b){"string"==typeof b&&(b=new d(b));var c=0,m,i=this.clone();a.each("scheme,userInfo,hostname,port,path,query,fragment".split(","),
function(d){if(d=="path")if(c)i[d]=b[d];else{if(d=b.path){c=1;if(!a.startsWith(d,"/"))if(i.hostname&&!i.path)d="/"+d;else if(i.path){m=i.path.lastIndexOf("/");m!=-1&&(d=i.path.slice(0,m+1)+d)}i.path=h.normalize(d)}}else if(d=="query"){if(c||b.query.toString()){i.query=b.query.clone();c=1}}else if(c||b[d]){i[d]=b[d];c=1}});return i},getScheme:function(){return this.scheme},setScheme:function(a){this.scheme=a;return this},getHostname:function(){return this.hostname},setHostname:function(a){this.hostname=
a;return this},setUserInfo:function(a){this.userInfo=a;return this},getUserInfo:function(){return this.userInfo},setPort:function(a){this.port=a;return this},getPort:function(){return this.port},setPath:function(a){this.path=a;return this},getPath:function(){return this.path},setQuery:function(c){"string"==typeof c&&(a.startsWith(c,"?")&&(c=c.slice(1)),c=new l(k(c,b)));this.query=c;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(b){a.startsWith(b,
"#")&&(b=b.slice(1));this.fragment=b;return this},isSameOriginAs:function(a){return this.hostname.toLowerCase()==a.hostname.toLowerCase()&&this.scheme.toLowerCase()==a.scheme.toLowerCase()&&this.port.toLowerCase()==a.port.toLowerCase()},toString:function(b){var d=[],m,i;if(m=this.scheme)d.push(k(m,f)),d.push(":");if(m=this.hostname){d.push("//");if(i=this.userInfo)d.push(k(i,f)),d.push("@");d.push(encodeURIComponent(m));if(i=this.port)d.push(":"),d.push(i)}if(i=this.path)m&&!a.startsWith(i,"/")&&
(i="/"+i),i=h.normalize(i),d.push(k(i,n));if(b=this.query.toString.call(this.query,b))d.push("?"),d.push(b);if(b=this.fragment)d.push("#"),d.push(k(b,c));return d.join("")}};d.Query=l;d.getComponents=function(b){var c=(b||"").match(p)||[],d={};a.each(q,function(a,b){d[b]=c[a]});return d};a.Uri=d})(KISSY);
(function(a,e){function g(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function l(a,b){var c;b.trident=0.1;if((c=a.match(/Trident\/([\d.]*)/))&&c[1])b.trident=g(c[1]);b.core="trident"}function k(a){var b,c;return(b=a.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(c=b[1]||b[2])?g(c):0}function d(a){var b,c="",d="",i,h=[6,9],f,p=n&&n.createElement("div"),D=[],s={webkit:e,trident:e,gecko:e,presto:e,chrome:e,safari:e,firefox:e,ie:e,opera:e,mobile:e,core:e,
shell:e,phantomjs:e,os:e,ipad:e,iphone:e,ipod:e,ios:e,android:e,nodejs:e};p&&p.getElementsByTagName&&(p.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",""),D=p.getElementsByTagName("s"));if(0<D.length){l(a,s);i=h[0];for(h=h[1];i<=h;i++)if(p.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",i),0<D.length){s[d="ie"]=i;break}if(!s.ie&&(f=k(a)))s[d="ie"]=f}else if((i=a.match(/AppleWebKit\/([\d.]*)/))&&i[1]){s[c="webkit"]=g(i[1]);if((i=a.match(/OPR\/(\d+\.\d+)/))&&
i[1])s[d="opera"]=g(i[1]);else if((i=a.match(/Chrome\/([\d.]*)/))&&i[1])s[d="chrome"]=g(i[1]);else if((i=a.match(/\/([\d.]*) Safari/))&&i[1])s[d="safari"]=g(i[1]);if(/ Mobile\//.test(a)&&a.match(/iPad|iPod|iPhone/)){s.mobile="apple";if((i=a.match(/OS ([^\s]*)/))&&i[1])s.ios=g(i[1].replace("_","."));b="ios";if((i=a.match(/iPad|iPod|iPhone/))&&i[0])s[i[0].toLowerCase()]=s.ios}else if(/ Android/i.test(a)){if(/Mobile/.test(a)&&(b=s.mobile="android"),(i=a.match(/Android ([^\s]*);/))&&i[1])s.android=g(i[1])}else if(i=
a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))s.mobile=i[0].toLowerCase();if((i=a.match(/PhantomJS\/([^\s]*)/))&&i[1])s.phantomjs=g(i[1])}else if((i=a.match(/Presto\/([\d.]*)/))&&i[1]){if(s[c="presto"]=g(i[1]),(i=a.match(/Opera\/([\d.]*)/))&&i[1]){s[d="opera"]=g(i[1]);if((i=a.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])s[d]=g(i[1]);if((i=a.match(/Opera Mini[^;]*/))&&i)s.mobile=i[0].toLowerCase();else if((i=a.match(/Opera Mobi[^;]*/))&&i)s.mobile=i[0]}}else if(f=k(a))s[d="ie"]=f,l(a,s);else if(i=
a.match(/Gecko/)){s[c="gecko"]=0.1;if((i=a.match(/rv:([\d.]*)/))&&i[1])s[c]=g(i[1]),/Mobile|Tablet/.test(a)&&(s.mobile="firefox");if((i=a.match(/Firefox\/([\d.]*)/))&&i[1])s[d="firefox"]=g(i[1])}b||(/windows|win32/i.test(a)?b="windows":/macintosh|mac_powerpc/i.test(a)?b="macintosh":/linux/i.test(a)?b="linux":/rhino/i.test(a)&&(b="rhino"));s.os=b;s.core=s.core||c;s.shell=d;return s}var f=a.Env.host,n=f.document,f=f.navigator,b=KISSY.UA=d(f&&f.userAgent||"");if("object"===typeof process){var c,p;if((c=
process.versions)&&(p=c.node))b.os=process.platform,b.nodejs=g(p)}b.getDescriptorFromUserAgent=d;c="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(",");p=n&&n.documentElement;var h="";p&&(a.each(c,function(a){var c=b[a];c&&(h+=" ks-"+a+(parseInt(c)+""),h+=" ks-"+a)}),a.trim(h)&&(p.className=a.trim(p.className+h)))})(KISSY);
(function(a,e){var g=a.Env.host,l=a.UA,k=["","Webkit","Moz","O","ms"],d=g.document||{},f,n,b,c,p,h=d.documentElement,q,j=!0,o=!1,m="ontouchstart"in d&&!l.phantomjs,i=d.documentMode||l.ie;h&&(h.querySelector&&8!=i&&(o=!0),q=h.style,a.each(k,function(a){var d=a?a+"Transition":"transition",i=a?a+"Transform":"transform";c===e&&d in q&&(c=a,n=d);p===e&&i in q&&(p=a,b=i)}),j="classList"in h,f="msPointerEnabled"in(g.navigator||{}));a.Features={isMsPointerSupported:function(){return f},isTouchEventSupported:function(){return m},
isDeviceMotionSupported:function(){return!!g.DeviceMotionEvent},isHashChangeSupported:function(){return"onhashchange"in g&&(!i||i>7)},isTransitionSupported:function(){return c!==e},isTransformSupported:function(){return p!==e},isClassListSupported:function(){return j},isQuerySelectorSupported:function(){return!a.config("dom/selector")&&o},isIELessThan:function(a){return!!(i&&i<a)},getTransitionPrefix:function(){return c},getTransformPrefix:function(){return p},getTransitionProperty:function(){return n},
getTransformProperty:function(){return b}}})(KISSY);(function(a){(a.Loader={}).Status={INIT:0,LOADING:1,LOADED:2,ERROR:3,ATTACHED:4}})(KISSY);
(function(a){function e(a){if("string"==typeof a)return g(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=g(a[c]);return b}function g(a){"/"==a.charAt(a.length-1)&&(a+="index");return a}function l(b,c){var d=c.indexOf("!");if(-1!=d){var e=c.substring(0,d),c=c.substring(d+1);a.use(e,{sync:!0,success:function(a,d){d.alias&&(c=d.alias(b,c,e))}})}return c}var k=a.Loader,d=a.Path,f=a.Env.host,n=a.startsWith,b=k.Status,c=b.ATTACHED,p=b.LOADED,h=b.ERROR,q=k.Utils={},j=f.document;a.mix(q,{docHead:function(){return j.getElementsByTagName("head")[0]||
j.documentElement},normalDepModuleName:function(a,b){var c=0,e;if(!b)return b;if("string"==typeof b)return n(b,"../")||n(b,"./")?d.resolve(d.dirname(a),b):d.normalize(b);for(e=b.length;c<e;c++)b[c]=q.normalDepModuleName(a,b[c]);return b},createModulesInfo:function(b,c){a.each(c,function(a){q.createModuleInfo(b,a)})},createModuleInfo:function(b,c,d){var c=g(c),e=b.Env.mods,h=e[c];return h?h:e[c]=h=new k.Module(a.mix({name:c,runtime:b},d))},isAttached:function(b,d){var e;a:{var h=b.Env.mods,f,g;e=a.makeArray(d);
for(g=0;g<e.length;g++)if(f=h[e[g]],!f||f.status!==c){e=0;break a}e=1}return e},getModules:function(b,d){var e=[b],h,f,g,p,j=b.Env.mods;a.each(d,function(d){h=j[d];if(!h||"css"!=h.getType())f=q.unalias(b,d),(g=a.reduce(f,function(a,b){p=j[b];return a&&p&&p.status==c},!0))?e.push(j[f[0]].value):e.push(null)});return e},attachModsRecursively:function(a,b,c,d,e){var c=c||[],e=e||{},h,f=1,g=a.length,p=c.length;for(h=0;h<g;h++)f=f&&q.attachModRecursively(a[h],b,c,d,e),c.length=p;return f},attachModRecursively:function(a,
b,d,e,f){var g,j=b.Env.mods[a];if(a in f)return f[a];if(!j)return f[a]=0;g=j.status;if(g==c)return f[a]=1;g==h&&e.push(j);return g!=p?f[a]=0:q.attachModsRecursively(j.getNormalizedRequires(),b,d,e,f)?(q.attachMod(b,j),f[a]=1):f[a]=0},attachMod:function(a,b){if(b.status==p){var d=b.fn;b.value="function"===typeof d?d.apply(b,q.getModules(a,b.getRequiresWithAlias())):d;b.status=c}},getModNamesAsArray:function(a){"string"==typeof a&&(a=a.replace(/\s+/g,"").split(","));return a},normalizeModNames:function(a,
b,c){return q.unalias(a,q.normalizeModNamesWithAlias(a,b,c))},unalias:function(a,b){for(var c=[].concat(b),d,h,f,g=0,j,p=a.Env.mods;!g;){g=1;for(d=c.length-1;0<=d;d--)if((h=p[c[d]])&&(f=h.alias)){g=0;for(j=f.length-1;0<=j;j--)f[j]||f.splice(j,1);c.splice.apply(c,[d,1].concat(e(f)))}}return c},normalizeModNamesWithAlias:function(a,b,c){var d=[],h,f;if(b){h=0;for(f=b.length;h<f;h++)b[h]&&d.push(l(a,e(b[h])))}c&&(d=q.normalDepModuleName(c,d));return d},registerModule:function(b,c,d,e){var c=g(c),h=b.Env.mods,
f=h[c];f&&f.fn?(c+" is defined more than once","warn"):(q.createModuleInfo(b,c),f=h[c],a.mix(f,{name:c,status:p,fn:d}),a.mix(f,e))},getMappedPath:function(a,b,c){for(var a=c||a.Config.mappedRules||[],d,c=0;c<a.length;c++)if(d=a[c],b.match(d[0]))return b.replace(d[0],d[1]);return b},getHash:function(a){var b=5381,c;for(c=a.length;-1<--c;)b=(b<<5)+b+a.charCodeAt(c);return b+""}})})(KISSY);
(function(a){function e(a,c){return c in a?a[c]:a.runtime.Config[c]}function g(b){a.mix(this,b)}function l(b){this.status=k.Status.INIT;a.mix(this,b);this.waitedCallbacks=[]}var k=a.Loader,d=a.Path,f=k.Utils;a.augment(g,{reset:function(b){a.mix(this,b)},getTag:function(){return e(this,"tag")},getName:function(){return this.name},getBase:function(){return e(this,"base")},getPrefixUriForCombo:function(){var a=this.getName();return this.getBase()+(a&&!this.isIgnorePackageNameInUri()?a+"/":"")},getPackageUri:function(){return this.packageUri?
this.packageUri:this.packageUri=new a.Uri(this.getPrefixUriForCombo())},getBaseUri:function(){return e(this,"baseUri")},isDebug:function(){return e(this,"debug")},isIgnorePackageNameInUri:function(){return e(this,"ignorePackageNameInUri")},getCharset:function(){return e(this,"charset")},isCombine:function(){return e(this,"combine")},getGroup:function(){return e(this,"group")}});k.Package=g;a.augment(l,{wait:function(a){this.waitedCallbacks.push(a)},notifyAll:function(){for(var a,c=this.waitedCallbacks.length,
d=0;d<c;d++){a=this.waitedCallbacks[d];try{a(this)}catch(e){e.stack||e,"error",setTimeout(function(){throw e;},0)}}this.waitedCallbacks=[]},setValue:function(a){this.value=a},getType:function(){var a=this.type;a||(this.type=a=".css"==d.extname(this.name).toLowerCase()?"css":"js");return a},getFullPathUri:function(){var b,c,e,h;if(!this.fullPathUri){if(this.fullpath)c=new a.Uri(this.fullpath);else{c=this.getPackage();b=c.getBaseUri();h=this.getPath();if(c.isIgnorePackageNameInUri()&&(e=c.getName()))h=
d.relative(e,h);c=b.resolve(h);if(b=this.getTag())b+="."+this.getType(),c.query.set("t",b)}this.fullPathUri=c}return this.fullPathUri},getFullPath:function(){var a;this.fullpath||(a=this.getFullPathUri(),this.fullpath=f.getMappedPath(this.runtime,a.toString()));return this.fullpath},getPath:function(){var a;if(!(a=this.path)){a=this.name;var c="."+this.getType(),e="-min";a=d.join(d.dirname(a),d.basename(a,c));this.getPackage().isDebug()&&(e="");a=this.path=a+e+c}return a},getValue:function(){return this.value},
getName:function(){return this.name},getPackage:function(){var b;if(!(b=this.packageInfo)){var c=this.name;b=this.runtime.config("packages");var c=c+"/",d="",e;for(e in b)a.startsWith(c,e+"/")&&e.length>d.length&&(d=e);b=this.packageInfo=b[d]||n}return b},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiredMods:function(){var b=this.runtime;return a.map(this.getNormalizedRequires(),function(a){return f.createModuleInfo(b,
a)})},getRequiresWithAlias:function(){var a=this.requiresWithAlias,c=this.requires;if(!c||0==c.length)return c||[];a||(this.requiresWithAlias=a=f.normalizeModNamesWithAlias(this.runtime,c,this.name));return a},getNormalizedRequires:function(){var a,c=this.normalizedRequiresStatus,d=this.status,e=this.requires;if(!e||0==e.length)return e||[];if((a=this.normalizedRequires)&&c==d)return a;this.normalizedRequiresStatus=d;return this.normalizedRequires=f.normalizeModNames(this.runtime,e,this.name)}});
k.Module=l;var n=new g({name:"",runtime:a})})(KISSY);
(function(a){function e(a,c){var d=0;if(k.webkit)a.sheet&&("webkit css poll loaded: "+c,d=1);else if(a.sheet)try{a.sheet.cssRules&&("same domain css poll loaded: "+c,d=1)}catch(e){var f=e.name;"css poll exception: "+f+" "+e.code+" "+c;"NS_ERROR_DOM_SECURITY_ERR"==f&&("css poll exception: "+f+"loaded : "+c,d=1)}return d}function g(){for(var b in n){var c=n[b],d=c.node;e(d,b)&&(c.callback&&c.callback.call(d),delete n[b])}a.isEmptyObject(n)?("clear css poll timer",f=0):f=setTimeout(g,l)}var l=30,k=a.UA,
d=a.Loader.Utils,f=0,n={};d.pollCss=function(a,c){var d;d=n[a.href]={};d.node=a;d.callback=c;f||("start css poll timer",g())};d.isCssLoaded=e})(KISSY);
(function(a){var e=a.Env.host.document,g=a.Loader.Utils,l=a.Path,k={},d,f=a.UA;a.getScript=function(n,b,c){function p(){var a=r.readyState;if(!a||"loaded"==a||"complete"==a)r.onreadystatechange=r.onload=null,A(0)}var h=b,q=0,j,o,m,i;a.startsWith(l.extname(n).toLowerCase(),".css")&&(q=1);a.isPlainObject(h)&&(b=h.success,j=h.error,o=h.timeout,c=h.charset,m=h.attrs);h=k[n]=k[n]||[];h.push([b,j]);if(1<h.length)return h.node;var r=e.createElement(q?"link":"script");m&&a.each(m,function(a,b){r.setAttribute(b,
a)});c&&(r.charset=c);q?(r.href=n,r.rel="stylesheet"):(r.src=n,r.async=!0);h.node=r;var A=function(b){var c;if(i){i.cancel();i=void 0}a.each(k[n],function(a){(c=a[b])&&c.call(r)});delete k[n]},b="onload"in r,c=a.Config.forceCssPoll||f.webkit&&536>f.webkit;q&&c&&b&&(b=!1);b?(r.onload=p,r.onerror=function(){r.onerror=null;A(1)}):q?g.pollCss(r,function(){A(0)}):r.onreadystatechange=p;o&&(i=a.later(function(){A(1)},1E3*o));d||(d=g.docHead());q?d.appendChild(r):d.insertBefore(r,d.firstChild);return r}})(KISSY);
(function(a,e){function g(b){b=b.replace(/\\/g,"/");"/"!=b.charAt(b.length-1)&&(b+="/");f?b=f.resolve(b):(a.startsWith(b,"file:")||(b="file:"+b),b=new a.Uri(b));return b}var l=a.Loader,k=l.Utils,d=a.Env.host.location,f,n,b=a.Config.fns;if(!a.UA.nodejs&&d&&(n=d.href))f=new a.Uri(n);a.Config.loadModsFn=function(b,d){a.getScript(b.fullpath,d)};b.map=function(a){var b=this.Config;return!1===a?b.mappedRules=[]:b.mappedRules=(b.mappedRules||[]).concat(a||[])};b.mapCombo=function(a){var b=this.Config;return!1===
a?b.mappedComboRules=[]:b.mappedComboRules=(b.mappedComboRules||[]).concat(a||[])};b.packages=function(b){var d,f=this.Config,k=f.packages=f.packages||{};return b?(a.each(b,function(b,c){d=b.name||c;var e=g(b.base||b.path);b.name=d;b.base=e.toString();b.baseUri=e;b.runtime=a;delete b.path;k[d]?k[d].reset(b):k[d]=new l.Package(b)}),e):!1===b?(f.packages={},e):k};b.modules=function(b){var d=this;b&&a.each(b,function(b,c){var e=k.createModuleInfo(d,c,b);e.status==l.Status.INIT&&a.mix(e,b)})};b.base=
function(a){var b=this.Config;if(!a)return b.base;a=g(a);b.base=a.toString();b.baseUri=a;return e}})(KISSY);
(function(a,e){function g(c,f,h,g,j){var k=f&&f.length,l=[],o=[];a.each(f,function(f){var n,p={timeout:j,success:function(){o.push(f);n&&m&&("standard browser get mod name after load : "+n.name,b.registerModule(c,n.name,m.fn,m.config),m=e);--k||h(o,l)},error:function(){l.push(f);--k||h(o,l)},charset:g};f.combine||(n=f.mods[0],"css"==n.getType()?n=e:d&&(i=n.name,r=a.now(),p.attrs={"data-mod-name":n.name}));a.Config.loadModsFn(f,p)})}function l(b,d){a.mix(this,{runtime:b,waitingModules:d})}function k(a,
b){for(var a=a.split(/\//),b=b.split(/\//),d=Math.min(a.length,b.length),c=0;c<d&&a[c]===b[c];c++);return a.slice(0,c).join("/")+"/"}var d=a.UA.ie&&10>a.UA.ie,f=a.Loader,n=f.Status,b=f.Utils,c=b.getHash,p=n.LOADING,h=n.LOADED,q=n.ERROR,j=a.now(),o=n.ATTACHED;l.groupTag=j;var m,i,r;l.add=function(c,f,h,g){if("function"===typeof c)if(h=f,f=c,d){var c=a.Env.host.document.getElementsByTagName("script"),j,k,l;for(k=c.length-1;0<=k;k--)if(l=c[k],"interactive"==l.readyState){j=l;break}j?j=j.getAttribute("data-mod-name"):
("can not find interactive script,time diff : "+(a.now()-r),"old_ie get mod name from cache : "+i,j=i);b.registerModule(g,j,f,h);i=null;r=0}else m={fn:f,config:h};else d?(i=null,r=0):m=e,b.registerModule(g,c,f,h)};a.augment(l,{use:function(c){var d=a.Config.timeout,e=this.runtime,c=a.keys(this.calculate(c));b.createModulesInfo(e,c);c=this.getComboUrls(c);a.each(c.css,function(c){g(e,c,function(c,d){a.each(c,function(c){a.each(c.mods,function(c){b.registerModule(e,c.getName(),a.noop);c.notifyAll()})});
a.each(d,function(b){a.each(b.mods,function(a){a.name+" is not loaded! can not find module in path : "+b.fullpath;"error";a.status=q;a.notifyAll()})})},c.charset,d)});a.each(c.js,function(b){g(e,b,function(){a.each(b,function(b){a.each(b.mods,function(a){a.fn||(a.name+" is not loaded! can not find module in path : "+b.fullpath,"error",a.status=q);a.notifyAll()})})},b.charset,d)})},calculate:function(a,c,d){var e,f,g,j,i=this.waitingModules,k=this.runtime,d=d||{},c=c||{};for(e=0;e<a.length;e++)f=a[e],
c[f]||(c[f]=1,g=b.createModuleInfo(k,f),j=g.status,j===q||j===o||(j!=h&&!i.contains(f)&&(j!=p&&(g.status=p,d[f]=1),g.wait(function(a){i.remove(a.getName());i.notifyAll()}),i.add(f)),this.calculate(g.getNormalizedRequires(),c,d)));return d},getComboMods:function(c,d){for(var e={},f,h=this.runtime,g=0,i=c.length,l,n,m,o,p,r,q,G,I;g<i;++g){l=c[g];l=b.createModuleInfo(h,l);m=l.getType();I=l.getFullPath();n=l.getPackage();q=n.getName();p=n.getCharset();o=n.getTag();G=n.getGroup();r=n.getPrefixUriForCombo();
f=n.getPackageUri();var v=q;(l.canBeCombined=n.isCombine()&&a.startsWith(I,r))&&G?(v=G+"_"+p+"_"+j,(n=d[v])?n.isSameOriginAs(f)?n.setPath(k(n.getPath(),f.getPath())):(v=q,d[q]=f):d[v]=f.clone()):d[q]=f;f=e[m]=e[m]||{};(m=f[v])?1==m.tags.length&&m.tags[0]==o||m.tags.push(o):(m=f[v]=[],m.charset=p,m.tags=[o]);m.push(l)}return e},getComboUrls:function(a){var d=this.runtime,e=d.Config,f=e.comboPrefix,h=e.comboSep,g=e.comboMaxFileNum,j=e.comboMaxUrlLength,i={},a=this.getComboMods(a,i),k={},l;for(l in a){k[l]=
{};for(var n in a[l]){var m=[],o=[],p=a[l][n],q=p.tags,r=(q=1<q.length?c(q.join("")):q[0])?"?t="+encodeURIComponent(q)+"."+l:"",q=r.length,v=i[n].toString(),M=v.length,J=v+f,y=k[l][n]=[],v=J.length;y.charset=p.charset;y.mods=[];for(var K=function(){y.push({combine:1,fullpath:b.getMappedPath(d,J+m.join(h)+r,e.mappedComboRules),mods:o})},B=0;B<p.length;B++){var z=p[B];y.mods.push(z);var C=z.getFullPath();if(z.canBeCombined){if(C=C.slice(M).replace(/\?.*$/,""),m.push(C),o.push(z),m.length>g||v+m.join(h).length+
q>j)m.pop(),o.pop(),K(),m=[],o=[],B--}else y.push({combine:0,fullpath:C,mods:[z]})}m.length&&K()}}return k}});f.ComboLoader=l})(KISSY);
(function(a,e){function g(b){a.mix(this,{fn:b,waitMods:{}})}var l=a.Loader,k=a.Env,d=l.Utils,f=a.setImmediate,n=l.ComboLoader;g.prototype={constructor:g,notifyAll:function(){var b=this.fn;b&&a.isEmptyObject(this.waitMods)&&(this.fn=null,b())},add:function(a){this.waitMods[a]=1},remove:function(a){delete this.waitMods[a]},contains:function(a){return this.waitMods[a]}};l.WaitingModules=g;a.mix(a,{add:function(b,c,d){n.add(b,c,d,a)},use:function(b,c){function k(){++m;var g=[],n=a.now(),t;t=d.attachModsRecursively(h,
a,e,g);m+" check duration "+(a.now()-n);t?c&&(o?c.apply(a,d.getModules(a,b)):f(function(){c.apply(a,d.getModules(a,b))})):g.length?j&&(o?j.apply(a,g):f(function(){j.apply(a,g)})):(m+" reload "+b,i.fn=k,l.use(h))}var h,l,j,o,m=0,i=new g(k);a.isPlainObject(c)&&(o=c.sync,j=c.error,c=c.success);b=d.getModNamesAsArray(b);b=d.normalizeModNamesWithAlias(a,b);h=d.unalias(a,b);l=new n(a,i);o?i.notifyAll():f(function(){i.notifyAll()});return a},require:function(b){b=d.unalias(a,d.normalizeModNamesWithAlias(a,
[b]));return d.attachModsRecursively(b,a)?d.getModules(a,b)[1]:e}});k.mods={}})(KISSY);
(function(a){function e(b){var c=b.src||"";if(!c.match(n))return 0;var b=(b=b.getAttribute("data-config"))?(new Function("return "+b))():{},e=b.comboPrefix=b.comboPrefix||"??",g=b.comboSep=b.comboSep||",",l,j=c.indexOf(e);-1==j?l=c.replace(f,"$1"):(l=c.substring(0,j),"/"!=l.charAt(l.length-1)&&(l+="/"),e=c.substring(j+e.length).split(g),a.each(e,function(a){if(a.match(n))return l+=a.replace(f,"$1"),!1}));return a.mix({base:l,tag:k.getHash(d+c)},b)}function g(){var a=l.getElementsByTagName("script"),
c,d;for(c=a.length-1;0<=c;c--)if(d=e(a[c]))return d;"must load kissy by file name in browser environment: seed.js or seed-min.js";"error";return null}var l=a.Env.host&&a.Env.host.document,k=a.Loader.Utils,d="20131121234724",f=/^(.*)(seed|kissy)(?:-min)?\.js[^/]*/i,n=/(seed|kissy)(?:-min)?\.js/i;a.config({charset:"utf-8",lang:"zh-cn",tag:d});a.UA.nodejs?a.config({charset:"utf-8",base:__dirname.replace(/\\/g,"/").replace(/\/$/,"")+"/"}):l&&l.getElementsByTagName&&a.config(a.mix({comboMaxUrlLength:2E3,
comboMaxFileNum:40},g()))})(KISSY);KISSY.add("i18n",{alias:function(a,e){return e+"/i18n/"+a.Config.lang}});
(function(a,e){function g(){if(!b){d&&!k.nodejs&&m(l,j,g);b=1;for(var e=0;e<c.length;e++)try{c[e](a)}catch(f){f.stack||f,"error",setTimeout(function(){throw f;},0)}}}var l=a.Env.host,k=a.UA,d=l.document,f=d&&d.documentElement,n=l.location,b=0,c=[],p=/^#?([\w-]+)$/,h=/\S/,q=!(!d||!d.addEventListener),j="load",o=q?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},m=q?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};a.mix(a,{isWindow:function(a){return null!=
a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{l.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){"parseXML error :",c,b=e}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&"Invalid XML: "+a;return b},globalEval:function(a){a&&h.test(a)&&(l.execScript||function(a){l.eval.call(l,a)})(a)},ready:function(d){if(b)try{d(a)}catch(e){e.stack||e,"error",setTimeout(function(){throw e;
},0)}else c.push(d);return this},available:function(b,c){var b=(b+"").match(p)[1],e=1,f=a.later(function(){if(500<++e)f.cancel();else{var a=d.getElementById(b);a&&(c(a),f.cancel())}},40,!0)}});if(n&&-1!==(n.search||"").indexOf("ks-debug"))a.Config.debug=!0;(function(){if(!d||"complete"===d.readyState)g();else if(o(l,j,g),q){var a=function(){m(d,"DOMContentLoaded",a);g()};o(d,"DOMContentLoaded",a)}else{var b=function(){"complete"===d.readyState&&(m(d,"readystatechange",b),g())};o(d,"readystatechange",
b);var c,e=f&&f.doScroll;try{c=null===l.frameElement}catch(h){c=!1}if(e&&c){var i=function(){try{e("left"),g()}catch(a){setTimeout(i,40)}};i()}}})();if(k.ie)try{d.execCommand("BackgroundImageCache",!1,!0)}catch(i){}})(KISSY,void 0);
(function(a){a.config({modules:{core:{alias:"dom,event,io,anim,base,node,json,ua,cookie".split(",")},ajax:{alias:["io"]},"rich-base":{alias:["base"]}}});if("undefined"!=typeof location){var e=a.startsWith(location.href,"https")?"https://s.tbcdn.cn/s/kissy/":"http://a.tbcdn.cn/s/kissy/";a.config({packages:{gallery:{base:e},mobile:{base:e}}})}})(KISSY);
(function(a,e,g){a({anim:{requires:["dom","anim/base","anim/timer",KISSY.Features.isTransitionSupported()?"anim/transition":""]}});a({"anim/base":{requires:["dom","promise"]}});a({"anim/timer":{requires:["dom","anim/base"]}});a({"anim/transition":{requires:["dom","event/dom","anim/base"]}});a({base:{requires:["event/custom"]}});a({button:{requires:["node","component/control"]}});a({color:{requires:["base"]}});a({combobox:{requires:["node","component/control","menu","base","io"]}});a({"component/container":{requires:["component/control",
"component/manager"]}});a({"component/control":{requires:["node","base","promise","component/manager","xtemplate/runtime"]}});a({"component/extension/align":{requires:["node"]}});a({"component/extension/delegate-children":{requires:["node","component/manager"]}});a({"component/plugin/drag":{requires:["base","dd"]}});a({"component/plugin/resize":{requires:["resizable"]}});a({"date/format":{requires:["date/gregorian","i18n!date"]}});a({"date/gregorian":{requires:["i18n!date"]}});a({"date/picker":{requires:["node",
"date/gregorian","i18n!date/picker","component/control","date/format"]}});a({"date/popup-picker":{requires:["date/picker","component/extension/align","component/extension/shim"]}});a({dd:{requires:["node","base"]}});a({"dd/plugin/constrain":{requires:["base","node"]}});a({"dd/plugin/proxy":{requires:["node","base","dd"]}});a({"dd/plugin/scroll":{requires:["dd","base","node"]}});a({"dom/basic":{alias:["dom/base",e.isIELessThan(9)?"dom/ie":"",e.isClassListSupported()?"":"dom/class-list"]},dom:{alias:["dom/basic",
!e.isQuerySelectorSupported()?"dom/selector":""]}});a({"dom/class-list":{requires:["dom/base"]}});a({"dom/ie":{requires:["dom/base"]}});a({"dom/selector":{requires:["dom/basic"]}});a({editor:{requires:["node","html-parser","component/control","event"]}});a({event:{requires:["event/dom","event/custom"]}});a({"event/custom":{requires:["event/base"]}});a({"event/dom":{alias:["event/dom/base",e.isTouchEventSupported()||e.isMsPointerSupported()?"event/dom/touch":"",e.isDeviceMotionSupported()?"event/dom/shake":
"",e.isHashChangeSupported()?"":"event/dom/hashchange",e.isIELessThan(9)?"event/dom/ie":"",g.ie?"":"event/dom/focusin"]}});a({"event/dom/base":{requires:["event/base","dom"]}});a({"event/dom/focusin":{requires:["event/dom/base"]}});a({"event/dom/hashchange":{requires:["event/dom/base","dom"]}});a({"event/dom/ie":{requires:["event/dom/base","dom"]}});a({"event/dom/shake":{requires:["event/dom/base"]}});a({"event/dom/touch":{requires:["event/dom/base","dom"]}});a({"filter-menu":{requires:["menu","node",
"component/extension/content-render"]}});a({io:{requires:["dom","event/custom","promise","event"]}});a({kison:{requires:["base"]}});a({menu:{requires:"node,component/container,component/extension/delegate-children,component/control,component/extension/content-render,component/extension/align,component/extension/shim".split(",")}});a({menubutton:{requires:["node","button","component/extension/content-render","menu"]}});a({mvc:{requires:["base","node","io","json"]}});a({node:{requires:["dom","event/dom",
"anim"]}});a({overlay:{requires:["component/container","component/extension/shim","component/extension/align","node","component/extension/content-render"]}});a({resizable:{requires:["node","base","dd"]}});a({"resizable/plugin/proxy":{requires:["base","node"]}});a({"scroll-view":{alias:[e.isTouchEventSupported()||e.isMsPointerSupported()?"scroll-view/drag":"scroll-view/base"]}});a({"scroll-view/base":{requires:["node","anim","component/container","component/extension/content-render"]}});a({"scroll-view/drag":{requires:["scroll-view/base",
"node","anim"]}});a({"scroll-view/plugin/pull-to-refresh":{requires:["base"]}});a({"scroll-view/plugin/scrollbar":{requires:["base","node","component/control"]}});a({separator:{requires:["component/control"]}});a({"split-button":{requires:["component/container","button","menubutton"]}});a({stylesheet:{requires:["dom"]}});a({swf:{requires:["dom","json","base"]}});a({tabs:{requires:["component/container","toolbar","button"]}});a({toolbar:{requires:["component/container","component/extension/delegate-children",
"node"]}});a({tree:{requires:["node","component/container","component/extension/content-render","component/extension/delegate-children"]}});a({xtemplate:{requires:["xtemplate/runtime","xtemplate/compiler"]}});a({"xtemplate/compiler":{requires:["xtemplate/runtime"]}});a({"xtemplate/nodejs":{requires:["xtemplate"]}})})(function(a){KISSY.config("modules",a)},KISSY.Features,KISSY.UA);
(function(a){a.add("empty",a.noop);a.add("ua",function(){return a.UA});a.add("uri",function(){return a.Uri});a.add("path",function(){return a.Path});var e=a.Env.host,g=(e.document||{}).documentMode,l=(a.UA.nodejs&&"object"===typeof global?global:e).JSON;g&&9>g&&(l=null);if(l)a.add("json",function(){return a.JSON=l}),a.parseJson=function(a){return l.parse(a)};else{var k=/^[\],:{}\s]*$/,d=/(?:^|:|,)(?:\s*\[)+/g,f=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,n=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;
a.parseJson=function(b){return null===b?b:"string"===typeof b&&(b=a.trim(b))&&k.test(b.replace(f,"@").replace(n,"]").replace(d,""))?(new Function("return "+b))():a.error("Invalid Json: "+b)}}a.UA.nodejs&&(a.KISSY=a,module.exports=a)})(KISSY);
/*
Copyright 2013, KISSY v1.40
MIT Licensed
build time: Oct 29 14:13
*/
KISSY.add("base/attribute",function(g,j){function p(a,b){return"string"==typeof b?a[b]:b}function n(a,b,d,e,c,f,i,h){i=i||d;return a.fire(b+g.ucfirst(d)+"Change",g.mix({attrName:i,subAttrName:f,prevVal:e,newVal:c},h))}function l(a,b,d){var e=a[b];!d&&!e&&(a[b]=e={});return e||{}}function u(a,b){for(var d=0,e=b.length;a!=j&&d<e;d++)a=a[b[d]];return a}function v(a){var b;-1!==a.indexOf(".")&&(b=a.split("."),a=b.shift());return{path:b,name:a}}function w(a,b,d){var e=d;if(b){var a=e=a===j?{}:g.clone(a),
c=b.length-1;if(0<=c){for(var f=0;f<c;f++)a=a[b[f]];a!=j&&(a[b[f]]=d)}}return e}function s(a,b,d,e,c){var f,i,h;f=v(b);var x=b,b=f.name;f=f.path;h=a.get(b);var m=b,y=l(a,"__defaultBeforeFns");y[m]||(y[m]=1,m="before"+g.ucfirst(m)+"Change",a.publish(m,{defaultFn:t}));f&&(i=u(h,f));if(!e.force&&(!f&&h===d||f&&i===d))return j;d=w(h,f,d);d=g.mix({attrName:b,subAttrName:x,prevVal:h,newVal:d,_opts:e,_attrs:c,target:a},e.data);if(e.silent){if(k===t.call(a,d))return k}else if(k===a.fire("before"+g.ucfirst(b)+
"Change",d))return k;return a}function t(a){if(a.target!==this)return j;var b=a.newVal,d=a.prevVal,e=a.attrName,c=a.subAttrName,f=a._attrs,a=a._opts,b=this.setInternal(e,b);if(b===k)return b;a.silent||(b=this.__attrVals[e],n(this,"after",e,d,b,c,null,a.data),f?f.push({prevVal:d,newVal:b,attrName:e,subAttrName:c}):n(this,"","*",[d],[b],[c],[e],a.data));return j}function o(a,b){var d=a.__attrs,e=l(d,b,1),c=e.valueFn;if(c&&(c=p(a,c)))c=c.call(a),c!==j&&(e.value=c),delete e.valueFn,d[b]=e;return e.value}
function q(a,b,d,e){var c,f;c=v(b);b=c.name;if(c=c.path)f=a.get(b),d=w(f,c,d);if((c=l(a.__attrs,b).validator)&&(c=p(a,c)))if(a=c.call(a,d,b,e),a!==j&&!0!==a)return a;return j}var r={},k=!1;return{INVALID:r,getAttrs:function(){return this.__attrs},getAttrVals:function(){var a={},b,d=this.__attrs;for(b in d)a[b]=this.get(b);return a},addAttr:function(a,b,d){var e=this.__attrs,c,b=g.clone(b);(c=e[a])?g.mix(c,b,d):e[a]=b;return this},addAttrs:function(a,b){var d=this;g.each(a,function(b,a){d.addAttr(a,
b)});b&&d.set(b);return d},hasAttr:function(a){return this.__attrs.hasOwnProperty(a)},removeAttr:function(a){var b=this.__attrVals,d=this.__attrs;this.hasAttr(a)&&(delete d[a],delete b[a]);return this},set:function(a,b,d){if(g.isPlainObject(a)){var d=b||{},b=Object(a),e=[],c,f=[];for(a in b)(c=q(this,a,b[a],b))!==j&&f.push(c);if(f.length)return d.error&&d.error(f),k;for(a in b)s(this,a,b[a],d,e);var i=[],h=[],x=[],m=[];g.each(e,function(b){h.push(b.prevVal);x.push(b.newVal);i.push(b.attrName);m.push(b.subAttrName)});
i.length&&n(this,"","*",h,x,m,i,d.data);return this}d=d||{};c=q(this,a,b);return c!==j?(d.error&&d.error(c),k):s(this,a,b,d)},setInternal:function(a,b){var d=j,e=l(this.__attrs,a).setter;if(e&&(e=p(this,e)))d=e.call(this,b,a);if(d===r)return k;d!==j&&(b=d);this.__attrVals[a]=b;return j},get:function(a){var b,d=this.__attrVals,e,c;-1!==a.indexOf(".")&&(b=a.split("."),a=b.shift());e=l(this.__attrs,a,1).getter;c=a in d?d[a]:o(this,a);if(e&&(e=p(this,e)))c=e.call(this,c,a);!(a in d)&&c!==j&&(d[a]=c);
b&&(c=u(c,b));return c},reset:function(a,b){if("string"==typeof a)return this.hasAttr(a)?this.set(a,o(this,a),b):this;var b=a,d=this.__attrs,e={};for(a in d)e[a]=o(this,a);this.set(e,b);return this}}});
KISSY.add("base",function(g,j,p){function n(b,d){return function(a){return function(){d?a.apply(this,arguments):this.callSuper.apply(this,arguments);var c=arguments.callee.__owner__.__extensions__||[];d&&c.reverse();var f=arguments,i;if(i=c&&c.length)for(var h=0;h<i;h++){var g=c[h]&&(!b?c[h]:c[h].prototype[b]);g&&g.apply(this,f||[])}d?this.callSuper.apply(this,arguments):a.apply(this,arguments)}}}function l(b){var d=this.constructor;l.superclass.constructor.apply(this,arguments);this.__attrs={};this.__attrVals=
{};for(this.userConfig=b;d;){var a=d[q];if(a){var c=void 0;for(c in a)this.addAttr(c,a[c],!1)}d=d.superclass?d.superclass.constructor:null}if(d=b)for(var f in d)this.setInternal(f,d[f]);f=this.get("listeners");for(var i in f)this.on(i,f[i]);this.initializer();w(this);o.call(this,"pluginInitializer");this.bindInternal();this.syncInternal()}function u(b){t(b,this,this.__hooks__||{});g.mix(this.prototype,b)}function v(b){var a;b.target==this&&(a=this[k+b.type.slice(5).slice(0,-6)],a.call(this,b.newVal,
b))}function w(b){var a=b.get("plugins");g.each(a,function(b,c){"function"===typeof b&&(a[c]=new b)})}function s(b){return function(){return b.apply(this,arguments)}}function t(b,d,e){if(d.__extensions__.length)for(c in e)b[c]=b[c]||a;for(var c in e)c in b&&(b[c]=e[c](b[c]));g.each(b,function(a,c){if("function"==typeof a){var e=0;if(a.__owner__){var g=a.__owner__;delete a.__owner__;delete a.__name__;var e=a.__wrapped__=1,j=s(a);j.__owner__=g;j.__name__=c;g.prototype[c]=j}else a.__wrapped__&&(e=1);
e&&(b[c]=a=s(a));a.__owner__=d;a.__name__=c}})}function o(b){var a,e=this.get("plugins");if(a=e.length)for(var c=0;c<a;c++)e[c][b]&&e[c][b](this)}var q="ATTRS",r=g.ucfirst,k="_onSet",a=g.noop;g.augment(l,j);g.extend(l,p.Target,{initializer:a,__getHook:n,__callPluginsMethod:o,callSuper:function(){var b,a,e=arguments;"function"==typeof this&&this.__name__?(b=this,a=e[0],e=Array.prototype.slice.call(e,1)):(b=arguments.callee.caller,b.__wrapped__&&(b=b.caller),a=this);var c=b.__name__;if(c)return b=b.__owner__.superclass[c],
!b?void 0:b.apply(a,e||[])},bindInternal:function(){var b=this.getAttrs(),a,e;for(a in b)if(e=k+r(a),this[e])this.on("after"+r(a)+"Change",v)},syncInternal:function(){var b=[],a;a=this.constructor;for(var e=this.getAttrs();a;)b.push(a),a=a.superclass&&a.superclass.constructor;b.reverse();for(a=0;a<b.length;a++){var c=b[a].ATTRS||{},f;for(f in c)if(f in e){var g,h;(h=this[k+r(f)])&&0!==e[f].sync&&void 0!==(g=this.get(f))&&h.call(this,g)}}},plug:function(a){"function"===typeof a&&(a=new a);a.pluginInitializer&&
a.pluginInitializer(this);this.get("plugins").push(a);return this},unplug:function(a){var d=[],e=this,c="string"==typeof a;g.each(e.get("plugins"),function(f){var g=0,h;a&&(c?(h=f.get&&f.get("pluginId")||f.pluginId,h!=a&&(d.push(f),g=1)):f!=a&&(d.push(f),g=1));g||f.pluginDestructor(e)});e.setInternal("plugins",d);return e},getPlugin:function(a){var d=null;g.each(this.get("plugins"),function(e){if((e.get&&e.get("pluginId")||e.pluginId)==a)return d=e,!1});return d},destructor:g.noop,destroy:function(){this.get("destroyed")||
(o.call(this,"pluginDestructor"),this.destructor(),this.set("destroyed",!0),this.fire("destroy"),this.detach())}});g.mix(l,{__hooks__:{initializer:n(),destructor:n("__destructor",!0)},ATTRS:{plugins:{value:[]},destroyed:{value:!1},listeners:{value:[]}},extend:function d(a,c,f){var i;g.isArray(a)||(f=c,c=a,a=[]);f=f||{};c=g.merge(c);i=c.hasOwnProperty("constructor")?c.constructor:function(){this.callSuper.apply(this,arguments)};c.constructor=i;var h=this.__hooks__;h&&(f.__hooks__=g.merge(h,f.__hooks__));
i.__extensions__=a;t(c,i,f.__hooks__||{});h=this.prototype;h=h.__inheritedStatics__=h.__inheritedStatics__||f.inheritedStatics;f.inheritedStatics&&h!==f.inheritedStatics&&g.mix(h,f.inheritedStatics);h&&g.mix(i,h);delete f.inheritedStatics;g.extend(i,this,c,f);if(a.length){var j={},k={};g.each(a.concat(i),function(a){if(a){g.each(a[q],function(a,c){var d=j[c]=j[c]||{};g.mix(d,a)});var a=a.prototype,c;for(c in a)a.hasOwnProperty(c)&&(k[c]=a[c])}});i[q]=j;k.constructor=i;g.augment(i,k)}i.extend=i.extend||
d;i.addMembers=u;return i}});return g.Base=l},{requires:["base/attribute","event/custom"]});
/*
Copyright 2013, KISSY v1.40
MIT Licensed
build time: Sep 17 23:08
*/
KISSY.add("json/quote",function(l){var h={"":"\\b","":"\\f","\n":"\\n","\r":"\\r","\t":"\\t",'"':'\\"'},f={},k=/["\b\f\n\r\t\x00-\x1f]/g,c=/\\b|\\f|\\n|\\r|\\t|\\"|\\u[0-9a-zA-Z]{4}/g;l.each(h,function(a,b){f[b]=a});f["\\/"]="/";return{quote:function(a){return'"'+a.replace(k,function(b){var a;if(!(a=h[b]))a="\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4);return a})+'"'},unQuote:function(a){return a.slice(1,a.length-1).replace(c,function(a){var c;if(!(c=f[a]))c=String.fromCharCode(parseInt(a.slice(2),
16));return c})}}});
KISSY.add("json/stringify",function(l,h){function f(c){return 10>c?"0"+c:c}function k(c,a,b,d,j,q,g){var e=a[c];if(e&&"object"===typeof e)if("function"===typeof e.toJSON)e=e.toJSON(c);else if(e instanceof Date)e=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null;else if(e instanceof String||e instanceof Number||e instanceof Boolean)e=e.valueOf();void 0!==b&&(e=b.call(a,c,e));switch(typeof e){case "number":return isFinite(e)?
""+e:"null";case "string":return h.quote(e);case "boolean":return""+e;case "object":if(e)if(l.isArray(e)){for(var c=e,a=g,g=g+j,e=[],p=c.length,m=0;m<p;){var i=k(""+m,c,b,d,j,q,g);e[e.length]=void 0===i?"null":i;++m}e.length?j?(b=e.join("\n,"+g),b="[\n"+g+b+"\n"+a+"]"):b="["+e.join(",")+"]":b="[]"}else{for(var c=e,a=g,g=g+j,n,e=void 0!==d?d:l.keys(c),i=[],m=0,p=e.length;m<p;m++){n=e[m];var o=k(n,c,b,d,j,q,g);void 0!==o&&(n=h.quote(n),n+=":",j&&(n+=" "),n+=o,i[i.length]=n)}i.length?j?(b=i.join(",\n"+
g),b="{\n"+g+b+"\n"+a+"}"):b="{"+i.join(",")+"}":b="{}"}else b="null";return b}}return function(c,a,b){var d="",j,f;a&&("function"===typeof a?f=a:l.isArray(a)&&(j=a));"number"===typeof b?(b=Math.min(10,b),d=Array(b+1).join(" ")):"string"===typeof b&&(d=b.slice(0,10));return k("",{"":c},f,j,d,[],"")}},{requires:["./quote"]});
KISSY.add("json/parser",function(){var l={},h=KISSY,f=function(c){this.rules=[];h.mix(this,c);this.resetInput(this.input)};f.prototype={constructor:function(c){this.rules=[];h.mix(this,c);this.resetInput(this.input)},resetInput:function(c){h.mix(this,{input:c,matched:"",stateStack:[f.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var c=this.stateStack[this.stateStack.length-1],a=[],c=this.mapState(c);h.each(this.rules,
function(b){var d=b.state||b[3];d?h.inArray(c,d)&&a.push(b):c==f.STATIC.INITIAL&&a.push(b)});return a},pushState:function(c){this.stateStack.push(c)},popState:function(){return this.stateStack.pop()},getStateStack:function(){return this.stateStack},showDebugInfo:function(){var c=f.STATIC.DEBUG_CONTEXT_LIMIT,a=this.matched,b=this.match,d=this.input,a=a.slice(0,a.length-b.length),a=(a.length>c?"...":"")+a.slice(-c).replace(/\n/," "),b=b+d,b=b.slice(0,c)+(b.length>c?"...":"");return a+b+"\n"+Array(a.length+
1).join("-")+"^"},mapSymbol:function(c){var a=this.symbolMap;return!a?c:a[c]||(a[c]=++this.symbolId)},mapReverseSymbol:function(c){var a=this.symbolMap,b,d=this.reverseSymbolMap;if(!d&&a)for(b in d=this.reverseSymbolMap={},a)d[a[b]]=b;return d?d[c]:c},mapState:function(c){var a=this.stateMap;return!a?c:a[c]||(a[c]=++this.stateId)},lex:function(){var c=this.input,a,b,d,j=this.getCurrentRules();this.match=this.text="";if(!c)return this.mapSymbol(f.STATIC.END_TAG);for(a=0;a<j.length;a++){b=j[a];var q=
b.token||b[0];d=b.action||b[2]||void 0;if(b=c.match(b.regexp||b[1])){if(a=b[0].match(/\n.*/g))this.lineNumber+=a.length;h.mix(this,{firstLine:this.lastLine,lastLine:this.lineNumber+1,firstColumn:this.lastColumn,lastColumn:a?a[a.length-1].length-1:this.lastColumn+b[0].length});a=this.match=b[0];this.matches=b;this.text=a;this.matched+=a;d=d&&d.call(this);d=void 0==d?q:this.mapSymbol(d);this.input=c=c.slice(a.length);return d?d:this.lex()}}"lex error at line "+this.lineNumber+":\n"+this.showDebugInfo()}};
f.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var k=new f({rules:[[2,/^"(\\"|\\\\|\\\/|\\b|\\f|\\n|\\r|\\t|\\u[0-9a-zA-Z]{4}|[^\\"\x00-\x1f])*"/,0],[0,/^[\t\r\n\x20]/,0],[3,/^,/,0],[4,/^:/,0],[5,/^\[/,0],[6,/^\]/,0],[7,/^\{/,0],[8,/^\}/,0],[9,/^-?\d+(?:\.\d+)?(?:e-?\d+)?/i,0],[10,/^true|false/,0],[11,/^null/,0],[12,/^./,0]]});l.lexer=k;k.symbolMap={$EOF:1,STRING:2,COMMA:3,COLON:4,LEFT_BRACKET:5,RIGHT_BRACKET:6,LEFT_BRACE:7,RIGHT_BRACE:8,NUMBER:9,BOOLEAN:10,NULL:11,INVALID:12,$START:13,
json:14,value:15,object:16,array:17,elementList:18,member:19,memberList:20};l.productions=[[13,[14]],[14,[15],function(){return this.$1}],[15,[2],function(){return this.yy.unQuote(this.$1)}],[15,[9],function(){return parseFloat(this.$1)}],[15,[16],function(){return this.$1}],[15,[17],function(){return this.$1}],[15,[10],function(){return"true"===this.$1}],[15,[11],function(){return null}],[18,[15],function(){return[this.$1]}],[18,[18,3,15],function(){this.$1[this.$1.length]=this.$3;return this.$1}],
[17,[5,6],function(){return[]}],[17,[5,18,6],function(){return this.$2}],[19,[2,4,15],function(){return{key:this.yy.unQuote(this.$1),value:this.$3}}],[20,[19],function(){var c={};c[this.$1.key]=this.$1.value;return c}],[20,[20,3,19],function(){this.$1[this.$3.key]=this.$3.value;return this.$1}],[16,[7,8],function(){return{}}],[16,[7,20,8],function(){return this.$2}]];l.table={gotos:{"0":{14:7,15:8,16:9,17:10},2:{15:12,16:9,17:10,18:13},3:{19:16,20:17},18:{15:23,16:9,17:10},20:{15:24,16:9,17:10},21:{19:25}},
action:{"0":{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},1:{1:[2,2,0],3:[2,2,0],6:[2,2,0],8:[2,2,0]},2:{2:[1,0,1],5:[1,0,2],6:[1,0,11],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},3:{2:[1,0,14],8:[1,0,15]},4:{1:[2,3,0],3:[2,3,0],6:[2,3,0],8:[2,3,0]},5:{1:[2,6,0],3:[2,6,0],6:[2,6,0],8:[2,6,0]},6:{1:[2,7,0],3:[2,7,0],6:[2,7,0],8:[2,7,0]},7:{1:[0,0,0]},8:{1:[2,1,0]},9:{1:[2,4,0],3:[2,4,0],6:[2,4,0],8:[2,4,0]},10:{1:[2,5,0],3:[2,5,0],6:[2,5,0],8:[2,5,0]},11:{1:[2,10,0],3:[2,10,0],6:[2,
10,0],8:[2,10,0]},12:{3:[2,8,0],6:[2,8,0]},13:{3:[1,0,18],6:[1,0,19]},14:{4:[1,0,20]},15:{1:[2,15,0],3:[2,15,0],6:[2,15,0],8:[2,15,0]},16:{3:[2,13,0],8:[2,13,0]},17:{3:[1,0,21],8:[1,0,22]},18:{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},19:{1:[2,11,0],3:[2,11,0],6:[2,11,0],8:[2,11,0]},20:{2:[1,0,1],5:[1,0,2],7:[1,0,3],9:[1,0,4],10:[1,0,5],11:[1,0,6]},21:{2:[1,0,14]},22:{1:[2,16,0],3:[2,16,0],6:[2,16,0],8:[2,16,0]},23:{3:[2,9,0],6:[2,9,0]},24:{3:[2,12,0],8:[2,12,0]},25:{3:[2,14,
0],8:[2,14,0]}}};l.parse=function(c){var a=this,b=a.lexer,d,j,f,g=a.table,e=g.gotos,g=g.action,l=a.productions,m=[null],i=[0];for(b.resetInput(c);;){d=i[i.length-1];j||(j=b.lex());if(!j)return"it is not a valid input: "+c,"error",!1;f=g[d]&&g[d][j];if(!f){var n=[];g[d]&&h.each(g[d],function(b,c){n.push(a.lexer.mapReverseSymbol(c))});c="Syntax error at line "+b.lineNumber+":\n"+b.showDebugInfo()+"\nexpect "+n.join(", ");c;return!1}switch(f[0]){case 1:i.push(j);m.push(b.text);i.push(f[2]);j=null;break;
case 2:var o=l[f[1]];d=o.symbol||o[0];f=o.action||o[2];var k=(o.rhs||o[1]).length,r=0,s=void 0,o=m[m.length-k];for(a.$$=o;r<k;r++)a["$"+(k-r)]=m[m.length-1-r];f&&(s=f.call(a));o=void 0!==s?s:a.$$;k&&(i=i.slice(0,-2*k),m=m.slice(0,-1*k));i.push(d);m.push(o);i.push(e[i[i.length-2]][i[i.length-1]]);break;case 0:return o}}};return l});
KISSY.add("json/parse",function(l,h,f){function k(c,a,b){var d=c[a],f,h,g;if("object"===typeof d)if(l.isArray(d)){f=0;h=d.length;for(var e=[];f<h;)g=k(d,""+f,b),void 0!==g&&(e[e.length]=g);d=e}else{e=l.keys(d);f=0;for(h=e.length;f<h;f++){var p=e[f];g=k(d,p,b);void 0===g?delete d[p]:d[p]=g}}return b.call(c,a,d)}h.yy={unQuote:f.unQuote};return function(c,a){var b=h.parse(""+c);return a?k({"":b},"",a):b}},{requires:["./parser","./quote"]});
KISSY.add("json",function(l,h,f){return l.JSON={stringify:h,parse:f}},{requires:["./json/stringify","./json/parse"]});
/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 17 22:59
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host||{},g=a.document,s=c.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(c){var c=c||a,c=n.get(c),e=c.document.domain,c=c.location.hostname;return e!=c&&e!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;c=n.get(c);return s.ie&&n.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=n.get(g);if(c.isWindow(g))return g;var e=g;e.nodeType!==l.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=n.get(a);return c.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var c=n.get(a),a=c.nodeName.toLowerCase();s.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};c.mix(n,l);return n});
KISSY.add("dom/base/attr",function(c,a,g){function s(a,d){var d=k[d]||d,b=p[d];return b&&b.get?b.get(a,d):a[d]}var l=c.Env.host.document,n=a.NodeType,l=l&&l.documentElement,r=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,j=/:|^on/,d=/\r/g,b={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},m={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},v={get:function(d,b){return a.prop(d,b)?b.toLowerCase():g},set:function(d,b,c){!1===b?
a.removeAttr(d,c):(b=k[c]||c,b in d&&(d[b]=!0),d.setAttribute(c,c.toLowerCase()));return c}},p={},y={},q={select:{get:function(d){var b=d.selectedIndex,c=d.options,g;if(0>b)return null;if("select-one"===""+d.type)return a.val(c[b]);d=[];b=0;for(g=c.length;b<g;++b)c[b].selected&&d.push(a.val(c[b]));return d},set:function(d,b){var g=c.makeArray(b);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),g)});g.length||(d.selectedIndex=-1);return g}}};c.each(["radio","checkbox"],function(d){q[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});m.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:q,_propFix:k,_attrHooks:m,_propHooks:p,_attrNodeHook:y,_attrFix:b,prop:function(d,b,h){var e=a.query(d),f,m;if(c.isPlainObject(b))return c.each(b,function(d,b){a.prop(e,b,d)}),g;b=k[b]||b;m=p[b];if(h!==g)for(d=e.length-1;0<=d;d--)f=e[d],m&&m.set?m.set(f,h,b):f[b]=h;else if(e.length)return s(e[0],b);return g},hasProp:function(d,
b){var c=a.query(d),h,e=c.length,f;for(h=0;h<e;h++)if(f=c[h],s(f,b)!==g)return!0;return!1},removeProp:function(d,b){var b=k[b]||b,c=a.query(d),h,e;for(h=c.length-1;0<=h;h--){e=c[h];try{e[b]=g,delete e[b]}catch(f){}}},attr:function(d,f,p,i){var k=a.query(d),q=k[0];if(c.isPlainObject(f)){var i=p,l;for(l in f)a.attr(k,l,f[l],i);return g}if(i&&h[f])return a[f](d,p);f=f.toLowerCase();if(i&&h[f])return a[f](d,p);f=b[f]||f;d=e.test(f)?v:j.test(f)?y:m[f];if(p===g){if(q&&q.nodeType===n.ELEMENT_NODE){"form"==
r(q)&&(d=y);if(d&&d.get)return d.get(q,f);p=q.getAttribute(f);return""===p&&(f=q.getAttributeNode(f),!f||!f.specified)?g:null===p?g:p}}else for(i=k.length-1;0<=i;i--)if((q=k[i])&&q.nodeType===n.ELEMENT_NODE)"form"==r(q)&&(d=y),d&&d.set?d.set(q,p,f):q.setAttribute(f,""+p);return g},removeAttr:function(d,c){var c=c.toLowerCase(),c=b[c]||c,f=a.query(d),h,g,p;for(p=f.length-1;0<=p;p--)if(g=f[p],g.nodeType==n.ELEMENT_NODE&&(g.removeAttribute(c),e.test(c)&&(h=k[c]||c)in g))g[h]=!1},hasAttr:l&&!l.hasAttribute?
function(d,b){var b=b.toLowerCase(),c=a.query(d),f,h;for(f=0;f<c.length;f++)if(h=c[f],(h=h.getAttributeNode(b))&&h.specified)return!0;return!1}:function(d,b){var c=a.query(d),f,h=c.length;for(f=0;f<h;f++)if(c[f].hasAttribute(b))return!0;return!1},val:function(b,f){var h,e,p,m,i;if(f===g){if(p=a.get(b)){if((h=q[r(p)]||q[p.type])&&"get"in h&&(e=h.get(p,"value"))!==g)return e;e=p.value;return"string"===typeof e?e.replace(d,""):null==e?"":e}return g}e=a.query(b);for(m=e.length-1;0<=m;m--){p=e[m];if(1!==
p.nodeType)break;i=f;null==i?i="":"number"===typeof i?i+="":c.isArray(i)&&(i=c.map(i,function(a){return a==null?"":a+""}));h=q[r(p)]||q[p.type];if(!h||!("set"in h)||h.set(p,i,"value")===g)p.value=i}return g},text:function(d,b){var c,f,h,e;if(b===g)return c=a.get(d),a._getText(c);f=a.query(d);for(h=f.length-1;0<=h;h--)if(c=f[h],e=c.nodeType,e==n.ELEMENT_NODE)a.empty(c),c.appendChild(c.ownerDocument.createTextNode(b));else if(e==n.TEXT_NODE||e==n.CDATA_SECTION_NODE)c.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(e),g=[],j,d=a.length,b=0;b<d;b++)(j=a[b])&&g.push(j);return g}function s(a){return function(c,e){var d,b,h,g=c.classList,k=n.call(arguments,2);d=0;for(b=e.length;d<b;d++)(h=e[d])&&g[a].apply(g,[h].concat(k))}}function l(c){return function(e,j){var d=g(j),b=n.call(arguments,2);a.query(e).each(function(h){h.nodeType==r.ELEMENT_NODE&&a[c].apply(a,[h,d].concat(b))})}}var n=[].slice,r=a.NodeType,e=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var e,d,b,h=a.classList;if(h.length){e=0;for(d=c.length;e<d;e++)if((b=c[e])&&!h.contains(b))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(c,e){var j=a.get(c);return j&&j.nodeType==r.ELEMENT_NODE&&a._hasClass(j,g(e))},replaceClass:function(c,e,g){a.removeClass(c,e);a.addClass(c,g)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function s(d){var o=c.require("event/dom");o&&o.detach(d);a.removeData(d)}function l(a){a=a&&a!=j?a.createElement(h):m;a===m&&(a.innerHTML="");return a}function n(a,d){var u=l(d);u.innerHTML="m<div>"+a+"</div>";return u.lastChild}function r(a,d){if(d)if(q&&d.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(u){}for(var b;b=a.lastChild;)r(b,a)}a.removeNode(!1)}else d.removeChild(a)}function e(a,o,b){var c=o.nodeType;if(c==
d.DOCUMENT_FRAGMENT_NODE){o=o.childNodes;b=b.childNodes;for(c=0;o[c];)b[c]&&e(a,o[c],b[c]),c++}else if(c==d.ELEMENT_NODE){o=o.getElementsByTagName("*");b=b.getElementsByTagName("*");for(c=0;o[c];)b[c]&&a(o[c],b[c]),c++}}function f(b,o){var u=c.require("event/dom"),D,h;if(o.nodeType!=d.ELEMENT_NODE||a.hasData(b)){D=a.data(b);for(h in D)a.data(o,h,D[h]);u&&u.clone(b,o)}}function i(a){var d=null,b,h;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);b=0;
for(h=a.length;b<h;b++)d.appendChild(a[b])}else"Unable to convert "+a+" to fragment.";return d}var j=c.Env.host.document,d=a.NodeType,b=c.UA,b=document.documentMode||b.ie,h="div",m=j&&j.createElement(h),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,p=/^\s+/,y=/\s+$/,q=!!(b&&9>b),G=q,I=/<|&#?\w+;/,B=j&&"outerHTML"in j.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,o,u,D){var e=null;if(!b)return e;if(b.nodeType)return a.clone(b);
if("string"!=typeof b)return e;D===g&&(D=!0);D&&(b=c.trim(b));var D=a._creators,f,t,u=u||j,m,A=h;if(I.test(b))if(m=C.exec(b))e=u.createElement(m[1]);else{b=b.replace(k,"<$1></$2>");if((m=v.exec(b))&&(f=m[1]))A=f.toLowerCase();f=(D[A]||n)(b,u);G&&(t=b.match(p))&&f.insertBefore(u.createTextNode(t[0]),f.firstChild);G&&/\S/.test(b)&&(t=b.match(y))&&f.appendChild(u.createTextNode(t[0]));t=f.childNodes;1===t.length?e=t[0].parentNode.removeChild(t[0]):t.length?e=i(t):b+" : create node error"}else e=u.createTextNode(b);
b=e;c.isPlainObject(o)&&(b.nodeType==d.ELEMENT_NODE?a.attr(b,o,!0):b.nodeType==d.DOCUMENT_FRAGMENT_NODE&&a.attr(b.childNodes,o,!0));return b},_fixCloneAttributes:function(b,d){"textarea"===a.nodeName(b)&&(d.defaultValue=b.defaultValue,d.value=b.value)},_creators:{div:n},_defaultCreator:n,html:function(b,o,c){var b=a.query(b),h=b[0],e=!1,f,t;if(!h)return null;if(o===g)return h.nodeType==d.ELEMENT_NODE?h.innerHTML:h.nodeType==d.DOCUMENT_FRAGMENT_NODE?(c=l(h.ownerDocument),c.appendChild(h),c.innerHTML):
null;o+="";if(!o.match(/<(?:script|style|link)/i)&&(!G||!o.match(p))&&!x[(o.match(v)||["",""])[1].toLowerCase()])try{for(f=b.length-1;0<=f;f--)t=b[f],t.nodeType==d.ELEMENT_NODE&&(s(t.getElementsByTagName("*")),t.innerHTML=o);e=!0}catch(m){}e||(o=a.create(o,0,h.ownerDocument,0),a.empty(b),a.append(o,b,c));return g},outerHtml:function(b,o,c){var b=a.query(b),h=b.length,e=b[0];if(!e)return null;if(o===g){if(B&&e.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return e.outerHTML;o=l(e.ownerDocument);o.appendChild(a.clone(e,
!0));return o.innerHTML}o+="";if(!o.match(/<(?:script|style|link)/i)&&B)for(c=h-1;0<=c;c--)e=b[c],e.nodeType==d.ELEMENT_NODE&&(s(e),s(e.getElementsByTagName("*")),e.outerHTML=o);else o=a.create(o,0,e.ownerDocument,0),a.insertBefore(o,b,c),a.remove(b);return g},remove:function(b,o){var u,e=a.query(b),h,f=c.require("event/dom"),g;for(g=e.length-1;0<=g;g--)u=e[g],!o&&u.nodeType==d.ELEMENT_NODE&&(h=c.makeArray(u.getElementsByTagName("*")),h.push(u),a.removeData(h),f&&f.detach(h)),r(u,u.parentNode)},clone:function(b,
o,c,h){"object"===typeof o&&(h=o.deepWithDataAndEvent,c=o.withDataAndEvent,o=o.deep);var b=a.get(b),g,p=a._fixCloneAttributes,m;if(!b)return null;m=b.nodeType;g=b.cloneNode(o);if(m==d.ELEMENT_NODE||m==d.DOCUMENT_FRAGMENT_NODE)p&&m==d.ELEMENT_NODE&&p(b,g),o&&p&&e(p,b,g);c&&(f(b,g),o&&h&&e(f,b,g));return g},empty:function(b){var b=a.query(b),d,c;for(c=b.length-1;0<=c;c--)d=b[c],a.remove(d.childNodes)},_nodeListToFragment:i});a.outerHTML=a.outerHtml;var H=a._creators,z=a.create,x={area:"map",thead:"table",
td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},A;for(A in x)(function(a){H[A]=function(b,d){return z("<"+a+">"+b+"</"+a+">",g,d)}})(x[A]);x.option=x.optgroup=function(a,b){return z('<select multiple="multiple">'+a+"</select>",g,b)};return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var s=c.Env.host,l="_ks_data_"+c.now(),n={},r={},e={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==s?i.hasData(r,b):f.hasData(a[l],b)},data:function(a,b,c){if(a==s)return i.data(r,b,c);var e=a[l];if(c!==g)e=a[l]=a[l]||{},e[b]=c;else return b!==g?e&&e[b]:e=a[l]=a[l]||{}},removeData:function(a,b){if(a==s)return i.removeData(r,b);var e=a[l];
if(b!==g)delete e[b],c.isEmptyObject(e)&&i.removeData(a);else try{delete a[l]}catch(f){a[l]=g}}},j={hasData:function(a,b){var c=a[l];return!c?!1:f.hasData(n[c],b)},data:function(a,b,h){if(e[a.nodeName.toLowerCase()])return g;var f=a[l];if(!f){if(b!==g&&h===g)return g;f=a[l]=c.guid()}a=n[f];if(h!==g)a=n[f]=n[f]||{},a[b]=h;else return b!==g?a&&a[b]:a=n[f]=n[f]||{}},removeData:function(a,b){var e=a[l],f;if(e)if(f=n[e],b!==g)delete f[b],c.isEmptyObject(f)&&j.removeData(a);else{delete n[e];try{delete a[l]}catch(i){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};c.mix(a,{__EXPANDO:l,hasData:function(c,b){for(var e=!1,f=a.query(c),g=0;g<f.length&&!(e=f[g],e=e.nodeType?j.hasData(e,b):i.hasData(e,b));g++);return e},data:function(d,b,e){var d=a.query(d),f=d[0];if(c.isPlainObject(b)){for(var k in b)a.data(d,k,b[k]);return g}if(e===g){if(f)return f.nodeType?j.data(f,b):i.data(f,b)}else for(k=d.length-1;0<=k;k--)f=d[k],f.nodeType?j.data(f,b,e):i.data(f,b,e);return g},removeData:function(c,b){var e=a.query(c),f,g;for(g=
e.length-1;0<=g;g--)f=e[g],f.nodeType?j.removeData(f,b):i.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],m,k,v;for(m=0;a[m];m++)if(k=a[m],v=e(k),k.nodeType==n.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(k.childNodes),b));else if("script"===v&&(!k.type||j.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType==n.ELEMENT_NODE&&!r.test(v)){v=[];var p,y,q=k.getElementsByTagName("script");for(y=0;y<q.length;y++)p=q[y],(!p.type||j.test(p.type))&&v.push(p);i.apply(a,[m+1,0].concat(v))}c.push(k)}return c}function s(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function l(d,b,e,f){d=a.query(d);f&&(f=[]);d=g(d,f);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),i,v,p,j,q=b.length;if((d.length||f&&f.length)&&q){d=a._nodeListToFragment(d);1<q&&(j=a.clone(d,!0),b=c.makeArray(b));for(i=0;i<q;i++)v=b[i],d&&(p=0<i?a.clone(j,!0):d,e(p,v)),f&&f.length&&c.each(f,s)}}var n=a.NodeType,r=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,f=c.makeArray,i=[].splice,
j=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){l(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){l(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var e;(e=b.firstChild)&&1==e.nodeType;)b=e;a.appendTo(c,b)},wrap:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){a.wrapAll(c,b)})},wrapInner:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){var e=c.childNodes;e.length?a.wrapAll(e,b):c.appendChild(b)})},unwrap:function(e){e=a.query(e);c.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var e=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,e);a.remove(e)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function s(a){var c,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[h];a-=i.clientLeft||e.clientLeft||0;c-=i.clientTop||e.clientTop||0;return{left:a,top:c}}function l(b,c){var e={left:0,top:0},f=j(b),d,g=b,c=c||f;do{if(f==c){var h=g;d=s(h);h=j(h);d.left+=a[m](h);d.top+=a[k](h)}else d=s(g);e.left+=d.left;e.top+=d.top}while(f&&f!=c&&(g=f.frameElement)&&(f=f.parent));return e}var n=c.Env.host,r=
c.UA,e=n.document,f=a.NodeType,i=e&&e.documentElement,j=a.getWindow,d=Math.max,b="left",h="top",m="scrollLeft",k="scrollTop";c.mix(a,{offset:function(b,c,e){if(c===g){var b=a.get(b),f;b&&(f=l(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],d=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=l(b),i={},j=void 0,k=void 0;for(k in d)j=parseFloat(a.css(b,k))||0,i[k]=j+d[k]-h[k];a.css(b,i)}return g},scrollIntoView:function(e,d,i,q){var l,k,n,m;if(n=a.get(e)){d&&(d=
a.get(d));d||(d=n.ownerDocument);d.nodeType==f.DOCUMENT_NODE&&(d=j(d));c.isPlainObject(i)&&(q=i.allowHorizontalScroll,m=i.onlyScrollIfNeeded,i=i.alignWithTop);q=q===g?!0:q;k=c.isWindow(d);var e=a.offset(n),s=a.outerHeight(n);l=a.outerWidth(n);var r,x,A,w;k?(k=d,r=a.height(k),x=a.width(k),w={left:a.scrollLeft(k),top:a.scrollTop(k)},k=e[b]-w[b],n=e[h]-w[h],l=e[b]+l-(w[b]+x),e=e[h]+s-(w[h]+r)):(r=a.offset(d),x=d.clientHeight,A=d.clientWidth,w={left:a.scrollLeft(d),top:a.scrollTop(d)},k=e[b]-(r[b]+(parseFloat(a.css(d,
"borderLeftWidth"))||0)),n=e[h]-(r[h]+(parseFloat(a.css(d,"borderTopWidth"))||0)),l=e[b]+l-(r[b]+A+(parseFloat(a.css(d,"borderRightWidth"))||0)),e=e[h]+s-(r[h]+x+(parseFloat(a.css(d,"borderBottomWidth"))||0)));if(m){if(0>n||0<e)!0===i?a.scrollTop(d,w.top+n):!1===i?a.scrollTop(d,w.top+e):0>n?a.scrollTop(d,w.top+n):a.scrollTop(d,w.top+e)}else(i=i===g?!0:!!i)?a.scrollTop(d,w.top+n):a.scrollTop(d,w.top+e);if(q)if(m){if(0>k||0<l)!0===i?a.scrollLeft(d,w.left+k):!1===i?a.scrollLeft(d,w.left+l):0>k?a.scrollLeft(d,
w.left+k):a.scrollLeft(d,w.left+l)}else(i=i===g?!0:!!i)?a.scrollLeft(d,w.left+k):a.scrollLeft(d,w.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,c){var e="scroll"+b;a[e]=function(d,h){if("number"===typeof d)return arguments.callee(n,d);var d=a.get(d),i,k,l,m;d&&d.nodeType==f.ELEMENT_NODE?h!==g?d[e]=parseFloat(h):i=d[e]:(m=j(d),h!==g?(h=parseFloat(h),k="Left"==b?h:a.scrollLeft(m),l="Top"==b?h:a.scrollTop(m),m.scrollTo(k,
l)):(i=m["page"+(c?"Y":"X")+"Offset"],"number"!==typeof i&&(k=m.document,i=k.documentElement[e],"number"!==typeof i&&(i=k.body[e]))));return i}});c.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=a.getDocument(c);return d(c.documentElement["scroll"+b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),e=j(c),c=e["inner"+b];if(r.mobile&&c)return c;var c="client"+b,e=e.document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&
f||d&&d[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function s(a,b){return b.toUpperCase()}function l(a){return a.replace(y,"ms-").replace(z,s)}function n(a,b,c){var e={},d=a.style,f;for(f in b)e[f]=d[f],d[f]=b[f];c.call(a);for(f in b)d[f]=e[f]}function r(a,b,c){var e,d,f;if(3===a.nodeType||8===a.nodeType||!(e=a.style))return g;b=l(b);f=B[b];b=C[b]||b;if(c!==g){null===c||c===q?c=q:!isNaN(Number(c))&&!p[b]&&(c+=G);f&&f.set&&(c=f.set(a,c));if(c!==g){try{e[b]=c}catch(h){"css set error:"+h}c===q&&e.removeAttribute&&
e.removeAttribute(b)}e.cssText||a.removeAttribute("style");return g}if(!f||!("get"in f&&(d=f.get(a,!1))!==g))d=e[b];return d===g?"":d}function e(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):n(a,A,function(){b=f.apply(g,c)});return b}function f(b,e,d){if(c.isWindow(b))return e==k?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return e==k?a.docWidth(b):a.docHeight(b);var f=e===k?["Left","Right"]:["Top","Bottom"],g=e===k?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==d&&c.each(f,
function(c){d||(g-=parseFloat(a.css(b,"padding"+c))||0);g="margin"===d?g+(parseFloat(a.css(b,d+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,e);if(null==g||0>Number(g))g=b.style[e]||0;g=parseFloat(g)||0;d&&c.each(f,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(a.css(b,d+c))||0)});return g}var i=c.Env.host,j=c.UA,d=c.Features,b=a.nodeName,h=i.document,m=/^margin/,k=
"width",v="display"+c.now(),p={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},y=/^-ms-/,q="",G="px",I=/\d(?!px)[a-z%]+$/i,B={},C={"float":"cssFloat"},H={},z=/-([a-z])/ig;if(d.isTransformSupported()){var x;x=C.transform=d.getTransformProperty();C.transformOrigin=x+"Origin"}d.isTransitionSupported()&&(C.transition=d.getTransitionProperty());c.mix(a,{_camelCase:l,_cssHooks:B,_cssProps:C,_getComputedStyle:function(b,c){var e="",d,f,g,h,i;f=b.ownerDocument;c=C[c]||
c;if(d=f.defaultView.getComputedStyle(b,null))e=d.getPropertyValue(c)||d[c];e===""&&!a.contains(f,b)&&(e=b.style[c]);if(a._RE_NUM_NO_PX.test(e)&&m.test(c)){i=b.style;f=i.width;g=i.minWidth;h=i.maxWidth;i.minWidth=i.maxWidth=i.width=e;e=d.width;i.width=f;i.minWidth=g;i.maxWidth=h}return e},style:function(b,e,d){var b=a.query(b),f,h=b[0];if(c.isPlainObject(e)){for(f in e)for(h=b.length-1;h>=0;h--)r(b[h],f,e[f]);return g}if(d===g){f="";h&&(f=r(h,e,d));return f}for(h=b.length-1;h>=0;h--)r(b[h],e,d);return g},
css:function(b,e,d){var b=a.query(b),f=b[0],h;if(c.isPlainObject(e)){for(h in e)for(f=b.length-1;f>=0;f--)r(b[f],h,e[h]);return g}e=l(e);h=B[e];if(d===g){d="";if(f&&(!h||!("get"in h&&(d=h.get(f,true))!==g)))d=a._getComputedStyle(f,e);return typeof d=="undefined"?"":d}for(f=b.length-1;f>=0;f--)r(b[f],e,d);return g},show:function(b){var b=a.query(b),c,e,d;for(d=b.length-1;d>=0;d--){e=b[d];e.style.display=a.data(e,v)||q;if(a.css(e,"display")==="none"){c=e.tagName.toLowerCase();var f=void 0,g=H[c],i=
void 0;if(!H[c]){f=h.body||h.documentElement;i=h.createElement(c);a.prepend(i,f);g=a.css(i,"display");f.removeChild(i);H[c]=g}c=g;a.data(e,v,c);e.style.display=c}}},hide:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];var d=c.style,f=d.display;if(f!=="none"){f&&a.data(c,v,f);d.display="none"}}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];a.css(c,"display")==="none"?a.show(c):a.hide(c)}},addStyleSheet:function(b,c,e){if(typeof b=="string"){e=c;c=b;b=
i}var b=a.getDocument(b),d;if(e&&(e=e.replace("#",q)))d=a.get("#"+e,b);if(!d){d=a.create("<style>",{id:e},b);a.get("head",b).appendChild(d);d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c))}},unselectable:function(e){var e=a.query(e),d,f,g=0,h,i;for(f=e.length-1;f>=0;f--){d=e[f];i=d.style;i.UserSelect="none";if(j.gecko)i.MozUserSelect="none";else if(j.webkit)i.WebkitUserSelect="none";else if(j.ie||j.opera){i=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(h=
["iframe","textarea","input","select"];d=i[g++];)c.inArray(b(d),h)||d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([k,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d};B[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});
var A={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(b){B[b]={get:function(c,e){var d,f,g;if(e){g=a.css(c,"position");if(g==="static")return"auto";d=a._getComputedStyle(c,b);if((f=d==="auto")&&g==="relative")return"0px";if(f||I.test(d)){g={top:0,left:0};if(a.css(c,"position")=="fixed")f=c.getBoundingClientRect();else{for(d=c.offsetParent||(c.ownerDocument||h).body;d&&!w.test(d.nodeName)&&a.css(d,"position")==="static";)d=d.offsetParent;f=a.offset(c);g=a.offset(d);
g.top=g.top+(parseFloat(a.css(d,"borderTopWidth"))||0);g.left=g.left+(parseFloat(a.css(d,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(a.css(c,"marginTop"))||0);f.left=f.left-(parseFloat(a.css(c,"marginLeft"))||0);d={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return d}}});var w=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a,g){function s(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function n(c){return function(e){var d=a._getElementById(c,b);return d&&a._contains(e,d)?[d]:[]}}function r(a){return function(b){return b.getElementsByClassName(a)}}function e(a){return function(b){return b.getElementsByTagName(a)}}function f(d,h){var i,j,m="string"==
typeof d,q=h!==g?f(h):(j=1)&&[b],K=q.length;if(d)if(m){d=x(d);if(j)if("body"==d)i=[b.body];else if(I.test(d)&&k)i=b.getElementsByClassName(RegExp.$1);else if(H.test(d))i=(j=a._getElementById(RegExp.$2,b))&&j.nodeName.toLowerCase()==RegExp.$1?[j]:[];else if(B.test(d))i=(j=a._getElementById(d.substr(1),b))?[j]:[];else if(C.test(d))i=b.getElementsByTagName(d);else if(!d.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&k){i=d.split(/\s+/);var t=q,F,J;j=0;for(m=i.length;j<m;j++){F=
i;J=j;var E;E=i[j];var z=E.charAt(0);E="#"==z?n(l(E)):"."==z?r(l(E)):e(E);F[J]=E}j=0;for(m=i.length;j<m;j++){E=i[j];var z=[],L;F=0;for(J=t.length;F<J;F++)L=E(t[F]),z.push.apply(z,c.makeArray(L));t=z;if(!t.length)break}i=t&&1<t.length?a.unique(t):t}if(!i){i=[];for(j=0;j<K;j++)G.apply(i,a._selectInternal(d,q[j]));1<i.length&&1<K&&a.unique(i)}}else{if(i=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():v(d)?d:y(d)?p(d):[d],!j){m=i;F=m.length;i=[];for(j=0;j<F;j++)for(t=0;t<K;t++)if(a._contains(q[t],
m[j])){i.push(m[j]);break}}}else i=[];i.each=s;return i}function i(a,b){var c=a&&(a.className||j(a,"class"));return c&&(c=c.replace(/[\r\t\n]/g,q))&&-1<(q+c+q).indexOf(q+b+q)}function j(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function d(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var b=c.Env.host.document,h=b.documentElement,m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector,k="getElementsByClassName"in
b,v=c.isArray,p=c.makeArray,y=a.isDomNodeList,q=" ",G=Array.prototype.push,I=/^\.([\w-]+)$/,B=/^#([\w-]+)$/,C=/^([\w-])+$/,H=/^([\w-]+)#([\w-]+)$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return c.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:d,_hasSingleClass:i,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],m.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return p(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(d,e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,f=a.length;e<f;)a[e]===a[e-1]?(a.splice(e,1),--f):e++;return a}}(),
filter:function(b,e,g){var b=f(b,g),h,k,l,m,g=[];if("string"==typeof e&&(e=x(e))&&(l=z.exec(e)))h=l[1],k=l[2],m=l[3],h?h&&!k&&!m&&(e=function(a){return j(a,"id")==h}):e=function(a){var b=!0,c=!0;k&&(b=d(a,k));m&&(c=i(a,m));return c&&b};return g="function"===typeof e?c.filter(b,e):a._matchesInternal(e,b)},test:function(b,c,e){b=f(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function s(e,f,i,j,d,b,h){if(!(e=a.get(e)))return null;if(0===f)return e;b||(e=e[i]);if(!e)return null;d=d&&a.get(d)||null;f===g&&(f=1);var b=[],m=c.isArray(f),k,n;"number"===typeof f&&(k=0,n=f,f=function(){return++k===n});for(;e&&e!=d;){if((e.nodeType==r.ELEMENT_NODE||e.nodeType==r.TEXT_NODE&&h)&&l(e,f)&&(!j||j(e)))if(b.push(e),!m)break;e=e[i]}return m?b:b[0]||null}function l(e,f){if(!f)return!0;if(c.isArray(f)){var g,j=f.length;if(!j)return!0;for(g=
0;g<j;g++)if(a.test(e,f[g]))return!0}else if(a.test(e,f))return!0;return!1}function n(e,f,g,j){var d=[],b,h;if((b=e=a.get(e))&&g)b=e.parentNode;if(b){g=c.makeArray(b.childNodes);for(b=0;b<g.length;b++)h=g[b],(j||h.nodeType==r.ELEMENT_NODE)&&h!=e&&d.push(h);f&&(d=a.filter(d,f))}return d}var r=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,j){return s(a,c,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,
c,i){return s(a,c,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=a.get(c);return s(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=a.get(c);return s(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,c,i){return s(a,c,"nextSibling",g,g,g,i)},prev:function(a,c,i){return s(a,c,"previousSibling",g,g,g,i)},siblings:function(a,c,g){return n(a,c,!0,g)},children:function(a,c){return n(a,c,g)},contents:function(a,c){return n(a,
c,g,1)},contains:function(c,f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(e,f){var g=a.query(e),j,d=0;j=g[0];if(!f){g=j&&j.parentNode;if(!g)return-1;for(;j=j.previousSibling;)j.nodeType==r.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],g)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 18 00:20
*/
KISSY.add("event/base/utils",function(e){function f(a){if(0>a.indexOf("."))return[a,""];var b=a.match(/([^.]+)?(\..+)?$/),a=[b[1]];(b=b[2])?(b=b.split(".").sort(),a.push(b.join("."))):a.push("");return a}var d,c;return{splitAndRun:d=function(a,b){e.isArray(a)?e.each(a,b):(a=e.trim(a),-1==a.indexOf(" ")?b(a):e.each(a.split(/\s+/),b))},normalizeParam:function(a,b,c){var d=b||{},d="function"===typeof b?{fn:b,context:c}:e.merge(d),b=f(a),a=b[0];d.groups=b[1];d.type=a;return d},batchForType:function(a,
b){var c=e.makeArray(arguments),f=c[2+b];f&&"object"==typeof f?e.each(f,function(d,f){var e=[].concat(c);e.splice(0,2);e[b]=f;e[b+1]=d;a.apply(null,e)}):d(f,function(d){var e=[].concat(c);e.splice(0,2);e[b]=d;a.apply(null,e)})},fillGroupsForEvent:function(a,b){var d=f(a),e=d[1];e&&(e=c(e),b._ks_groups=e);b.type=d[0]},getGroupsRe:c=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/object",function(e,f){function d(){this.timeStamp=e.now();this.currentTarget=this.target=f}var c=function(){return!1},a=function(){return!0};d.prototype={constructor:d,isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){this.isDefaultPrevented=a},stopPropagation:function(){this.isPropagationStopped=a},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():
this.stopPropagation();this.preventDefault()}};return d});
KISSY.add("event/base/observer",function(e,f){function d(c){e.mix(this,c)}d.prototype={constructor:d,equals:function(c){var a=this;return!!e.reduce(a.keys,function(b,d){return b&&a[d]===c[d]},1)},simpleNotify:function(c,a){var b;b=this.fn.call(this.context||a.currentTarget,c,this.data);this.once&&a.removeObserver(this);return b},notifyInternal:function(c,a){var b=this.simpleNotify(c,a);!1===b&&c.halt();return b},notify:function(c,a){var b=c._ks_groups;return b&&(!this.groups||!this.groups.match(b))?
f:this.notifyInternal(c,a)}};return d});
KISSY.add("event/base/observable",function(e){function f(d){this.currentTarget=null;e.mix(this,d);this.reset()}f.prototype={constructor:f,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var c,a=this.observers,b=a.length;for(c=0;c<b;c++)if(a[c]==d){a.splice(c,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(d){var c=this.observers,a;for(a=c.length-1;0<=a;--a)if(d.equals(c[a]))return a;return-1}};return f});
KISSY.add("event/base",function(e,f,d,c,a){return{Utils:f,Object:d,Observer:c,Observable:a}},{requires:["./base/utils","./base/object","./base/observer","./base/observable"]});
/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 18 00:20
*/
KISSY.add("event/custom/observer",function(b,g){function h(){h.superclass.constructor.apply(this,arguments)}b.extend(h,g.Observer,{keys:["fn","context","groups"]});return h},{requires:["event/base"]});KISSY.add("event/custom/object",function(b,g){function h(g){h.superclass.constructor.call(this);b.mix(this,g)}b.extend(h,g.Object);return h},{requires:["event/base"]});
KISSY.add("event/custom/observable",function(b,g,h,m){function j(){j.superclass.constructor.apply(this,arguments);this.defaultFn=null;this.defaultTargetOnly=!1;this.bubbles=!0}var n=m.Utils,k=k;b.extend(j,m.Observable,{on:function(a){a=new g(a);b.Config.debug&&(a.fn||"lack event handler for "+this.type);-1==this.findObserver(a)&&this.observers.push(a)},fire:function(a){var a=a||{},d=this.bubbles,f=this.currentTarget,e,i=this.type,o=this.defaultFn,l,c=a,b;a.type=i;c instanceof h||(c.target=f,c=new h(c));
c.currentTarget=f;a=this.notify(c);!1!==b&&a!=k&&(b=a);if(d&&!c.isPropagationStopped()){e=(d=f.getTargets())&&d.length||0;for(l=0;l<e&&!c.isPropagationStopped();l++)a=d[l].fire(i,c),!1!==b&&a!==k&&(b=a)}if(o&&!c.isDefaultPrevented()&&(i=c.target,a=i.getCustomEventObservable(c.type),!this.defaultTargetOnly&&!a.defaultTargetOnly||f==i))b=o.call(f,c);return b},notify:function(a){var d=[].concat(this.observers),f,e,i=d.length,b;for(b=0;b<i&&!a.isImmediatePropagationStopped();b++)f=d[b].notify(a,this),
!1!==e&&f!==k&&(e=f);return e},detach:function(a){var d,f=a.fn,e=a.context,i=this.currentTarget,b=this.observers,a=a.groups;if(b.length){a&&(d=n.getGroupsRe(a));var l,c,h,g,j=b.length;if(f||d){e=e||i;l=a=0;for(c=[];a<j;++a)if(h=b[a],g=h.context||i,e!=g||f&&f!=h.fn||d&&!h.groups.match(d))c[l++]=h;this.observers=c}else this.reset()}}});return j},{requires:["./observer","./object","event/base"]});
KISSY.add("event/custom/target",function(b,g,h){function m(){}var j=g.Utils,n=j.splitAndRun,k=k;m.prototype={constructor:m,isTarget:1,getCustomEventObservable:function(a,d){var b,e=this.getCustomEvents();b=e&&e[a];!b&&d&&(b=e[a]=new h({currentTarget:this,type:a}));return b},fire:function(a,b){var f=this,e=k,i=f.getTargets(),g=i&&i.length,b=b||{};n(a,function(a){var c;j.fillGroupsForEvent(a,b);a=b.type;if((c=f.getCustomEventObservable(a))||g){if(c){if(!c.hasObserver()&&!c.defaultFn&&(c.bubbles&&!g||
!c.bubbles))return}else c=new h({currentTarget:f,type:a});a=c.fire(b);!1!==e&&a!==k&&(e=a)}});return e},publish:function(a,d){var f,e=this;n(a,function(a){f=e.getCustomEventObservable(a,!0);b.mix(f,d)});return e},addTarget:function(a){var d=this.getTargets();b.inArray(a,d)||d.push(a);return this},removeTarget:function(a){var d=this.getTargets(),a=b.indexOf(a,d);-1!=a&&d.splice(a,1);return this},getTargets:function(){return this["__~ks_bubble_targets"]||(this["__~ks_bubble_targets"]=[])},getCustomEvents:function(){return this["__~ks_custom_events"]||
(this["__~ks_custom_events"]={})},on:function(a,b,f){var e=this;j.batchForType(function(a,b,d){b=j.normalizeParam(a,b,d);a=b.type;if(a=e.getCustomEventObservable(a,!0))a.on(b)},0,a,b,f);return e},detach:function(a,d,f){var e=this;j.batchForType(function(a,d,f){var c=j.normalizeParam(a,d,f);(a=c.type)?(a=e.getCustomEventObservable(a,!0))&&a.detach(c):(a=e.getCustomEvents(),b.each(a,function(a){a.detach(c)}))},0,a,d,f);return e}};return m},{requires:["event/base","./observable"]});
KISSY.add("event/custom",function(b,g){return{Target:g,global:new g,targetObject:b.mix({},g.prototype,!0,function(b,g){return b=="constructor"?void 0:g})}},{requires:["./custom/target"]});
/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 18 00:20
*/
KISSY.add("event/dom/base/utils",function(d,h){var a="ksEventTargetId_"+d.now(),b=d.Env.host.document;return{simpleAdd:b&&b.addEventListener?function(a,b,h,d){a.addEventListener&&a.addEventListener(b,h,!!d)}:function(a,b,h){a.attachEvent&&a.attachEvent("on"+b,h)},simpleRemove:b&&b.removeEventListener?function(a,b,h,d){a.removeEventListener&&a.removeEventListener(b,h,!!d)}:function(a,b,h){a.detachEvent&&a.detachEvent("on"+b,h)},data:function(b,d){return h.data(b,a,d)},removeData:function(b){return h.removeData(b,
a)}}},{requires:["dom"]});KISSY.add("event/dom/base/special",function(){return{}});
KISSY.add("event/dom/base/observer",function(d,h,a){function b(a){b.superclass.constructor.apply(this,arguments)}d.extend(b,a.Observer,{keys:"fn,filter,data,context,originalType,groups,last".split(","),notifyInternal:function(a,b){var d,l,o=a.type,j;(j=this.originalType)?a.type=j:j=o;(d=h[j])&&d.handle?(d=d.handle(a,this,b))&&0<d.length&&(l=d[0]):l=this.simpleNotify(a,b);!1===l&&a.halt();a.type=o;return l}});return b},{requires:["./special","event/base"]});
KISSY.add("event/dom/base/object",function(d,h,a){function b(){return l}function i(){return o}function m(c){var t=c.type;m.superclass.constructor.call(this);this.originalEvent=c;var e=i;"defaultPrevented"in c?e=c.defaultPrevented?b:i:"getPreventDefault"in c?e=c.getPreventDefault()?b:i:"returnValue"in c&&(e=c.returnValue===o?b:i);this.isDefaultPrevented=e;var g=[],k,f=j.concat();d.each(n,function(e){t.match(e.reg)&&(f=f.concat(e.props),e.fix&&g.push(e.fix));return a});for(e=f.length;e;)k=f[--e],this[k]=
c[k];this.target||(this.target=c.srcElement||r);3===this.target.nodeType&&(this.target=this.target.parentNode);for(e=g.length;e;)k=g[--e],k(this,c)}var r=d.Env.host.document,l=!0,o=!1,j="altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,shiftKey,target,timeStamp,view,type".split(","),n=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(c,j){null==c.which&&(c.which=null!=j.charCode?j.charCode:j.keyCode);c.metaKey===a&&(c.metaKey=c.ctrlKey)}},{reg:/^touch/,
props:["touches","changedTouches","targetTouches"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(c,j){var e,g,k,f=j.wheelDelta,b=j.axis,n=j.wheelDeltaY,d=j.wheelDeltaX,p=j.detail;f&&(k=f/120);p&&(k=-(0==p%3?p/3:p));b!==a&&(b===c.HORIZONTAL_AXIS?(g=0,e=-1*k):b===c.VERTICAL_AXIS&&(e=0,g=k));n!==a&&(g=n/120);d!==a&&(e=-1*d/120);!e&&!g&&(g=k);e!==a&&(c.deltaX=e);g!==a&&(c.deltaY=g);k!==a&&(c.delta=k)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,
props:"buttons,clientX,clientY,button,offsetX,relatedTarget,which,fromElement,toElement,offsetY,pageX,pageY,screenX,screenY".split(","),fix:function(c,j){var e,g,b=c.target,f=j.button;null==c.pageX&&null!=j.clientX&&(e=b.ownerDocument||r,g=e.documentElement,e=e.body,c.pageX=j.clientX+(g&&g.scrollLeft||e&&e.scrollLeft||0)-(g&&g.clientLeft||e&&e.clientLeft||0),c.pageY=j.clientY+(g&&g.scrollTop||e&&e.scrollTop||0)-(g&&g.clientTop||e&&e.clientTop||0));!c.which&&f!==a&&(c.which=f&1?1:f&2?3:f&4?2:0);!c.relatedTarget&&
c.fromElement&&(c.relatedTarget=c.fromElement===b?c.toElement:c.fromElement);return c}}];d.extend(m,h.Object,{constructor:m,preventDefault:function(){var a=this.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=o;m.superclass.preventDefault.call(this)},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=l;m.superclass.stopPropagation.call(this)}});return m},{requires:["event/base"]});
KISSY.add("event/dom/base/observable",function(d,h,a,b,i,m,r){function l(a){d.mix(this,a);this.reset()}var o=r.Utils;d.extend(l,r.Observable,{setup:function(){var j=this.type,n=a[j]||{},c=this.currentTarget,d=b.data(c).handle;(!n.setup||!1===n.setup.call(c,j))&&b.simpleAdd(c,j,d)},constructor:l,reset:function(){l.superclass.reset.call(this);this.lastCount=this.delegateCount=0},notify:function(a){var b=a.target,c=a.type,d=this.currentTarget,e=this.observers,g=[],k,f,s=this.delegateCount||0,q,u;if(s&&
b.nodeType)for(;b!=d;){if(!0!==b.disabled||"click"!==c){var p={},i,m,l;q=[];for(f=0;f<s;f++)u=e[f],l=u.filter,m=l+"",i=p[m],void 0===i&&(i=p[m]=h.test(b,l)),i&&q.push(u);q.length&&g.push({currentTarget:b,currentTargetObservers:q})}b=b.parentNode||d}s<e.length&&g.push({currentTarget:d,currentTargetObservers:e.slice(s)});f=0;for(b=g.length;!a.isPropagationStopped()&&f<b;++f){c=g[f];q=c.currentTargetObservers;c=c.currentTarget;a.currentTarget=c;for(c=0;!a.isImmediatePropagationStopped()&&c<q.length;c++)d=
q[c],d=d.notify(a,this),!1!==k&&void 0!==d&&(k=d)}return k},fire:function(b,n){var b=b||{},c=""+this.type,i,e,g=a[c]||{};i=!1!==g.bubbles;var k=this.currentTarget;if(!(g.fire&&!1===g.fire.call(k,n))&&(b instanceof m||(e=b,b=new m({currentTarget:k,type:c,target:k}),d.mix(b,e)),!(g.preFire&&!1===g.preFire.call(k,b,n)))){e=k;var f=h.getWindow(e),s=f.document,g=[],q,u="on"+c,p=0;do g.push(e),e=e.parentNode||e.ownerDocument||e===s&&f;while(!n&&e&&i);e=g[p];do{b.currentTarget=e;if(i=l.getDomEventObservable(e,
c))i=i.notify(b),void 0!==i&&!1!==q&&(q=i);e[u]&&!1===e[u].call(e)&&b.preventDefault();e=g[++p]}while(!n&&e&&!b.isPropagationStopped());if(!n&&!b.isDefaultPrevented()){try{k[c]&&!d.isWindow(k)&&(l.triggeredEvent=c,k[c]())}catch(v){"trigger action error: "+v}l.triggeredEvent=""}return q}},on:function(b){var n=this.observers,c=a[this.type]||{},b=b instanceof i?b:new i(b);d.Config.debug&&(b.fn||"lack event handler for "+this.type);-1==this.findObserver(b)&&(b.filter?(n.splice(this.delegateCount,0,b),
this.delegateCount++):b.last?(n.push(b),this.lastCount++):n.splice(n.length-this.lastCount,0,b),c.add&&c.add.call(this.currentTarget,b))},detach:function(b){var d,c=a[this.type]||{},i="filter"in b,e=b.filter,g=b.context,k=b.fn,f=this.currentTarget,s=this.observers,b=b.groups;if(s.length){b&&(d=o.getGroupsRe(b));var q,h,p,m,l=s.length;if(k||i||d){g=g||f;q=b=0;for(h=[];b<l;++b)p=s[b],m=p.context||f,g!=m||k&&k!=p.fn||i&&(e&&e!=p.filter||!e&&!p.filter)||d&&!p.groups.match(d)?h[q++]=p:(p.filter&&this.delegateCount&&
this.delegateCount--,p.last&&this.lastCount&&this.lastCount--,c.remove&&c.remove.call(f,p));this.observers=h}else this.reset();this.checkMemory()}},checkMemory:function(){var i=this.type,h,c,m=a[i]||{},e=this.currentTarget,g=b.data(e);if(g&&(h=g.observables,this.hasObserver()||(c=g.handle,(!m.tearDown||!1===m.tearDown.call(e,i))&&b.simpleRemove(e,i,c),delete h[i]),d.isEmptyObject(h)))g.handle=null,b.removeData(e)}});l.triggeredEvent="";l.getDomEventObservable=function(a,d){var c=b.data(a),i;c&&(i=
c.observables);return i?i[d]:null};l.getDomEventObservablesHolder=function(a,d){var c=b.data(a);!c&&d&&b.data(a,c={});return c};return l},{requires:"dom,./special,./utils,./observer,./object,event/base".split(",")});
KISSY.add("event/dom/base/dom-event",function(d,h,a,b,i,m,r){function l(a,b){var c=i[b]||{},f;if(!a.originalType&&(f=c.typeFix))a.originalType=b,b=f;return b}function o(a,b,k){var f,i,h,k=d.merge(k),b=l(k,b);f=m.getDomEventObservablesHolder(a,1);if(!(h=f.handle))h=f.handle=function(a){var b=a.type,e=h.currentTarget;return m.triggeredEvent==b||"undefined"==typeof KISSY?c:(b=m.getDomEventObservable(e,b))?(a.currentTarget=e,a=new r(a),b.notify(a)):c},h.currentTarget=a;if(!(i=f.observables))i=f.observables=
{};f=i[b];f||(f=i[b]=new m({type:b,currentTarget:a}),f.setup());f.on(k);a=null}function j(a,b,c){var c=d.merge(c),b=l(c,b),a=m.getDomEventObservablesHolder(a),f=(a||{}).observables;if(a&&f)if(b)(b=f[b])&&b.detach(c);else for(b in f)f[b].detach(c)}var n=h.Utils,c=c,t={on:function(a,c,d,f){a=b.query(a);n.batchForType(function(a,b,c,e){for(var c=n.normalizeParam(b,c,e),f,b=c.type,e=a.length-1;0<=e;e--)f=a[e],o(f,b,c)},1,a,c,d,f);return a},detach:function(a,c,d,f){a=b.query(a);n.batchForType(function(a,
b,c,e){for(var c=n.normalizeParam(b,c,e),f,d,b=c.type,e=a.length-1;0<=e;e--)if(f=a[e],j(f,b,c),c.deep&&f.getElementsByTagName){d=f.getElementsByTagName("*");for(f=d.length-1;0<=f;f--)j(d[f],b,c)}},1,a,c,d,f);return a},delegate:function(a,b,c,f,d){return t.on(a,b,{fn:f,context:d,filter:c})},undelegate:function(a,b,c,f,d){return t.detach(a,b,{fn:f,context:d,filter:c})},fire:function(a,d,h,f){var l=c,h=h||{};h.synthetic=1;n.splitAndRun(d,function(d){var g,j,o;n.fillGroupsForEvent(d,h);d=h.type;if((j=
i[d])&&j.typeFix)d=j.typeFix;a=b.query(a);for(j=a.length-1;0<=j;j--)g=a[j],o=m.getDomEventObservable(g,d),!f&&!o&&(o=new m({type:d,currentTarget:g})),o&&(g=o.fire(h,f),!1!==l&&g!==c&&(l=g))});return l},fireHandler:function(a,b,c){return t.fire(a,b,c,1)},clone:function(b,c){var i;if(i=m.getDomEventObservablesHolder(b)){var f=a.data(b);f&&f===a.data(c)&&a.removeData(c);d.each(i.observables,function(a,b){d.each(a.observers,function(a){o(c,b,a)})})}}};return t},{requires:"event/base,./utils,dom,./special,./observable,./object".split(",")});
KISSY.add("event/dom/base/key-codes",function(d){var h=d.UA,a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,
Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,
WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(b){var d=b.keyCode;if(b.altKey&&!b.ctrlKey||b.metaKey||d>=a.F1&&d<=a.F12)return!1;switch(d){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(b){if(b>=a.ZERO&&b<=a.NINE||b>=a.NUM_ZERO&&b<=a.NUM_MULTIPLY||b>=a.A&&b<=a.Z||h.webkit&&0==b)return!0;switch(b){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a});
KISSY.add("event/dom/base/gesture",function(){return{start:"mousedown",move:"mousemove",end:"mouseup",tap:"click",singleTap:"click",doubleTap:"dblclick"}});
KISSY.add("event/dom/base/special-events",function(d,h,a){var b=b;return d.mix(a,{mousewheel:{typeFix:d.UA.gecko?"DOMMouseScroll":"mousewheel"},load:{bubbles:!1},click:{fire:function(a){return!a&&"checkbox"===""+this.type&&this.click&&"input"==this.nodeName.toLowerCase()?(this.click(),!1):b}},focus:{bubbles:!1,preFire:function(a,b){if(!b)return h.fire(this,"focusin")},fire:function(a){return!a&&this.ownerDocument&&this!==this.ownerDocument.activeElement&&this.focus?(this.focus(),!1):b}},blur:{bubbles:!1,
preFire:function(a,b){if(!b)return h.fire(this,"focusout")},fire:function(a){return!a&&this.ownerDocument&&this===this.ownerDocument.activeElement&&this.blur?(this.blur(),!1):b}}})},{requires:["./dom-event","./special"]});
KISSY.add("event/dom/base/mouseenter",function(d,h,a){d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){a[b.name]={typeFix:b.fix,handle:function(a,b,d){var l=a.currentTarget,o=a.relatedTarget;if(!o||o!==l&&!h.contains(l,o))return[b.simpleNotify(a,d)]}}})},{requires:["dom","./special"]});
KISSY.add("event/dom/base/valuechange",function(d,h,a,b){function i(b){if(a.hasData(b,g)){var c=a.data(b,g);clearTimeout(c);a.removeData(b,g)}}function m(a){i(a.target)}function r(b){var d=b.value,g=a.data(b,e);d!==g&&(h.fireHandler(b,c,{prevVal:g,newVal:d}),a.data(b,e,d))}function l(b){a.hasData(b,g)||a.data(b,g,setTimeout(function(){r(b);a.data(b,g,setTimeout(arguments.callee,k))},k))}function o(b){var c=b.target;"focus"==b.type&&a.data(c,e,c.value);l(c)}function j(a){r(a.target)}function n(b){a.removeData(b,
e);i(b);h.detach(b,"blur",m);h.detach(b,"webkitspeechchange",j);h.detach(b,"mousedown keyup keydown focus",o)}var c="valuechange",t=a.nodeName,e="event/valuechange/history",g="event/valuechange/poll",k=50;b[c]={setup:function(){var a=t(this);if("input"==a||"textarea"==a)n(this),h.on(this,"blur",m),h.on(this,"webkitspeechchange",j),h.on(this,"mousedown keyup keydown focus",o)},tearDown:function(){n(this)}};return h},{requires:["./dom-event","dom","./special"]});
KISSY.add("event/dom/base",function(d,h,a,b,i,m){return d.merge({add:h.on,remove:h.detach,KeyCode:b,Gesture:i,Special:m,Object:a},h)},{requires:"./base/dom-event,./base/object,./base/key-codes,./base/gesture,./base/special-events,./base/mouseenter,./base/valuechange".split(",")});
/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 18 00:20
*/
KISSY.add("event/dom/focusin",function(d,e){var g=e.Special;d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function f(a){return e.fire(a.target,c.name)}var b=d.guid("attaches_"+d.now()+"_");g[c.name]={setup:function(){var a=this.ownerDocument||this;b in a||(a[b]=0);a[b]+=1;1===a[b]&&a.addEventListener(c.fix,f,!0)},tearDown:function(){var a=this.ownerDocument||this;a[b]-=1;0===a[b]&&a.removeEventListener(c.fix,f,!0)}}});return e},{requires:["event/dom/base"]});
KISSY.add("mui/storage/proxy",function(e,t,n,r,o,a,i){var s={};var c=location.href;var u=c.indexOf("?")>-1?e.unparam(c.substring(c.indexOf("?")+1))[a.XD_TOKEN]:"";s.init=function(){var e=new r({target:parent,token:u,receive:function(t){var n=(t.p?t.p+"/":"/")+(t.k||"");var r=t.v||"";var i=n+"/expires";var s=t.expires;if(s){s=s*24*60*60*1e3;s=+new Date+s}var c=t.m||"";var u={};u[a.UID_FROM]=t[a.UID_FROM]||0;u.c=t.c||"";if(c==="connect"){u.v=1}else{try{var f=o[c];if(f){if(t.m=="get"){if(f(i)<+new Date){u.status="expired";u.v="";f(n,"");f(i,"")}else{u.v=f(n,r)}}else{u.v=f(n,r);if(s){u.v=f(i,s)}}if(!u.status){u.status="success"}}}catch(d){u.v="";u.status="error"}}e.send(u,"*",true)}});Math.random()<a.SAM_PV&&i.send(i.fm(a.M.P,encodeURIComponent(location.href)))};return s},{requires:["event","json","mui/storage/xd","mui/storage/basic","mui/storage/conf","mui/storage/util"]});KISSY.add("mui/storage/xd",function(e,t,n,r,a){var o=0;var i=document.domain;var s="receive";var u="token";var c="target";var f="timeout";var d="iframeTimeout";var m=10;var v=10;var l=3*1e3;var g=window;var _=g.postMessage;var p={};var h=[];function T(){if(_){if(g.addEventListener){addEventListener("message",A,false)}else if(g.attachEvent){attachEvent("onmessage",A)}}else{O.onMessage(A)}}var O={uid:0,hid:-1,q:[],tm:0,postMessage:function(e,t,n){var r=++O.uid;var a=O.q;var o={name:+new Date+""+r+"^"+i+"&"+t,uid:r,target:e};a.push(o);if(!O.tm){O.tm=setInterval(function(){var e=O.q;if(e.length===0||e[0].uid===O.hid){return}var t=e[0];O.hid=t.uid;t.target.name=t.name},v)}},onMessage:function(e){var t="";var n=/^(\d+?)\^(.+?)&(.*?)$/;function r(){var r=g.name;if(r!==t){O.q.shift();t=r;var a=n.exec(r);if(!a){return}var o={origin:a[2],data:a[3]};e&&e(o)}}setInterval(r,m)}};function A(t){var a={};try{a=n.parse(t.data)}catch(o){return}var i=a[r.XD_TOKEN];e.each(h,function(e){if(i===e.get(u)&&r.UID_FROM in a&&r.UID_TO in a){var t=a[r.UID_TO];if(t){var n=p[t];clearTimeout(n);p[t]=0;if(!n){return}}e.get(s)(a)}})}T();function w(e){var t=this;t._opt=e;h.push(t)}e.augment(w,{send:function(t,s,m){if(!e.isObject(t)){return}var v=this;var g=v.get(c);var h=v.get(f)||l;var T=++o;s=s||"*";t[r.XD_TOKEN]=v.get(u);t[r.UID_TO]=t[r.UID_FROM]||0;t[r.UID_FROM]=m?0:T;var w=n.stringify(t);function I(){_&&O.q.shift();var e={};e.origin="*";var a={};a.c=t.c||"";a[r.XD_TOKEN]=t[r.XD_TOKEN]||"";a[r.UID_FROM]=0;a[r.UID_TO]=0;e.data=n.stringify(a);A(e)}if(!m){p[T]=setTimeout(function(){a.log(i,"timeout",T);p[T]=0;I();Math.random()<r.SAM_PV&&a.sendLog(r.ARR.ST_TMO)},h)}if(v.get(d)){I()}else{if(_){g.postMessage(w,s)}else{O.postMessage(g,w,s)}}},get:function(e){return this._opt[e]},set:function(e,t){this._opt[e]=t}});return w},{requires:["event","json","mui/storage/conf","mui/storage/util"]});KISSY.add("mui/storage/basic",function(e,t){window.JSON=window.JSON||t;(function(e){var n={},r=e.document,i="localStorage",o="__storejs__",a;n.disabled=false;n.set=function(e,t){};n.get=function(e){};n.remove=function(e){};n.clear=function(){};n.transact=function(e,t,r){var i=n.get(e);if(r==null){r=t;t=null}if(typeof i=="undefined"){i=t||{}}r(i);n.set(e,i)};n.getAll=function(){};n.serialize=function(e){return t.stringify(e)};n.deserialize=function(e){if(typeof e!="string"){return undefined}try{return t.parse(e)}catch(n){return e||undefined}};function u(){try{return i in e&&e[i]}catch(t){return false}}if(u()){a=e[i];n.set=function(e,t){if(t===undefined){return n.remove(e)}a.setItem(e,n.serialize(t));return t};n.get=function(e){return n.deserialize(a.getItem(e))};n.remove=function(e){a.removeItem(e)};n.clear=function(){a.clear()};n.getAll=function(){var e={};for(var t=0;t<a.length;++t){var r=a.key(t);e[r]=n.get(r)}return e}}else if(r.documentElement.addBehavior){var c,f;try{f=new ActiveXObject("htmlfile");f.open();f.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');f.close();c=f.w.frames[0].document;a=c.createElement("div")}catch(d){a=r.createElement("div");c=r.body}function l(e){return function(){try{var t=Array.prototype.slice.call(arguments,0);t.unshift(a);c.appendChild(a);a.addBehavior("#default#userData");a.load(i);var r=e.apply(n,t);c.removeChild(a);return r}catch(o){}}}var s=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function m(e){return e.replace(s,"___")}n.set=l(function(e,t,r){t=m(t);if(r===undefined){return n.remove(t)}e.setAttribute(t,n.serialize(r));e.save(i);return r});n.get=l(function(e,t){t=m(t);return n.deserialize(e.getAttribute(t))});n.remove=l(function(e,t){t=m(t);e.removeAttribute(t);e.save(i)});n.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;try{e.load(i)}catch(n){}for(var r=0,o;o=t[r];r++){e.removeAttribute(o.name)}e.save(i)});n.getAll=l(function(e){var t=e.XMLDocument.documentElement.attributes;var r={};for(var i=0,o;o=t[i];++i){var a=m(o.name);r[o.name]=n.deserialize(e.getAttribute(a))}return r})}try{n.set(o,o);if(n.get(o)!=o){n.disabled=true}n.remove(o)}catch(d){n.disabled=true}n.enabled=!n.disabled;if(typeof module!="undefined"&&module.exports){module.exports=n}else if(typeof define==="function"&&define.amd){define(n)}else{e.__storejs=n}})(window);return window.__storejs},{requires:["json"]});KISSY.add("mui/storage/conf",function(){var e=location.href.indexOf("if-debug=1")>-1;var t=location.href.indexOf("if-debug-log=1")>-1;var r="http://gm.mmstat.com";var n="http://log.mmstat.com/ued.1.1.2?type=9&_gm:id=storage&v=1.1";var a={DEBUG:e,DEBUG_LOG:t,SAM_PV:1/1e3,TIMEOUT_STORAGE:3*1e3,PROXY:e?"http://cdnprepub.tms.taobao.com/go/market/main/mui/storage/stp-1_1_2.php":"http://www.tmall.com/go/market/main/mui/storage/stp-1_1_2.php",PROXY_TMALL:e?"http://cdnprepub.tms.taobao.com/go/act/stp-tm-1_1_0.php":"http://www.tmall.com/go/act/stp-tm-1_1_0.php",PROXY_TAOBAO:e?"http://cdnprepub.tms.taobao.com/go/act/stp-tb-1_1_0.php":"http://www.tmall.com/go/act/stp-tb-1_1_0.php",XD_TOKEN:"__mui_xd_token",UID_FROM:"__mui_xd_from",UID_TO:"__mui_xd_to",M:{G:n+"&t=g",P:n+"&t=p"},ARR:{ST_SET:r+"/tmallbrand.999.5",ST_GET:r+"/tmallbrand.999.6",ST_RM:r+"/tmallbrand.999.7",ST_CL:r+"/tmallbrand.999.8",ST_TMO:r+"/tmallbrand.999.10"},K:{ONLOAD:"onload",PROXY:"proxy",PREFIX:"prefix",XD_TIMEOUT:"xdTimeout",IFRAME_TIMEOUT:"iframeTimeout",IFRAME:"iframe",TOKEN:"token",XD:"xd",CALLBACK_LIST:"callbackList",CACHED_ACTION_LIST:"cachedActionList",PROXY_READY:"proxyReady"}};return a});KISSY.add("mui/storage/util",function(e,t){var n={log:function(){if(!t.DEBUG_LOG){return}if(window.console&&window.console.log&&window.console.log.apply){window.console.log.apply(window.console,arguments)}},fm:function(){if(arguments.length==0){return""}else if(arguments.length==1){return arguments[0]}var e=arguments[0],t;for(t=1;t<arguments.length;++t){var n=new RegExp("\\{"+(t-1)+"\\}","g");e=e.replace(n,arguments[t])}return e}};var r=n;r.sendLog=function(e){r.send(r.fm(t.M.G,encodeURIComponent(location.href)));r.send(e)};r.send=function(e){if(!e){return}var t="__st_"+ +new Date+Math.random();var n=new Image;window[t]=n;n.src=r.fm("{0}{1}r{2}=1",e,e.indexOf("?")>-1?"&":"?",+new Date);n.onload=function(){window[t]=null}};var o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r.getRndStr=function(e){var t=[];var n=o.length,r;for(var a=0;a<e;++a){r=o.charAt(Math.floor(Math.random()*n));t.push(r)}return t.join("")};return r},{requires:["mui/storage/conf"]});